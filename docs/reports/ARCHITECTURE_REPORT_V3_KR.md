# Python-KIS ì•„í‚¤í…ì²˜ ê°œì„  ë³´ê³ ì„œ v3 (í†µí•©ë³¸)

**ì‘ì„±ì¼**: 2025ë…„ 12ì›” 18ì¼  
**ì´ì „ ë²„ì „**: v1 (2025-12-10), v2 (2025-12-17)  
**ëŒ€ìƒ**: ì‚¬ìš©ì ë° ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´  
**ëª©ì **: ìµœì‹  í”„ë¡œì íŠ¸ í˜„í™©ì„ ë°˜ì˜í•œ ì•„í‚¤í…ì²˜ ê°œì„  ì „ëµ ë° ì‹¤í–‰ ê³„íš ì œì‹œ

---

## ë¬¸ì„œ ê°œìš”

ì´ ë³´ê³ ì„œëŠ” Python-KIS í”„ë¡œì íŠ¸ì˜ **v2 ì¢…í•© ë¶„ì„(2025-12-17, ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 94%)**ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©°, v1ì˜ ìƒì„¸í•œ ê°œì„  ì „ëµë“¤ì„ í†µí•©í•˜ì˜€ìŠµë‹ˆë‹¤.

### ì£¼ìš” ê°±ì‹  ì‚¬í•­ (v2 ê¸°ì¤€)

| í•­ëª© | v1 (2025-12-10) | v2 (2025-12-17) | v3 (ë³¸ ë¬¸ì„œ) |
|------|-----------------|-----------------|------------|
| **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€** | ë¯¸ì¸¡ì • | 94% (ë‹¨ìœ„ í…ŒìŠ¤íŠ¸) | 94% ìœ ì§€ + í†µí•© ê³„íš |
| **í”„ë¡œì íŠ¸ ê·œëª¨** | ì˜ˆìƒì¹˜ | 15,000+ LOC ì‹¤ì¸¡ì • | í™•ì • |
| **ë¬¸ì„œ ì²´ê³„** | 6ê°œ | 6ê°œ + ìƒì„¸ ë¶„ì„ | í†µí•© ì•„í‚¤í…ì²˜ |
| **ì»¤ë²„ë¦¬ì§€ ë¶„ì„** | ì •ì„±ì  | ì •ëŸ‰ì  (ëª¨ë“ˆë³„) | ì‹¬í™” ë¶„ì„ + ê°œì„  ê²½ë¡œ |
| **íƒ€ì… ë¶„ë¦¬ ì •ì±…** | ì„¤ê³„ | ì„¤ê³„ ìƒì„¸í™” | ì‹¤í–‰ ê°€ëŠ¥í•œ 3ë‹¨ê³„ ì „ëµ |

### ë³´ê³ ì„œ êµ¬ì„±

1. **ìš”ì•½** - ì‚¬ìš©ì/ì—”ì§€ë‹ˆì–´ ê´€ì  í†µí•© ë¶„ì„
2. **í˜„í™© ë¶„ì„** - v2 ì¸¡ì • ë°ì´í„° ê¸°ë°˜ ì‹¬í™” ë¶„ì„
3. **ì•„í‚¤í…ì²˜ ì‹¬ì¸µ ë¶„ì„** - ê³„ì¸µí™” êµ¬ì¡° ë° ì„¤ê³„ íŒ¨í„´
4. **ì½”ë“œ í’ˆì§ˆ ë¶„ì„** - íƒ€ì… íŒíŠ¸, ë³µì¡ë„, ìŠ¤íƒ€ì¼
5. **í…ŒìŠ¤íŠ¸ í˜„í™© ë¶„ì„** - 94% ì»¤ë²„ë¦¬ì§€ ìƒì„¸ ë¶„ì„
6. **ì£¼ìš” ì´ìŠˆ ë° ê°œì„ ì‚¬í•­** - ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ë¡œë“œë§µ
7. **ì‹¤í–‰ ê³„íš ë° KPI** - ë‹¨ê³„ë³„ ë‹¬ì„± ì§€í‘œ
8. **ë¶€ë¡** - ìš©ì–´ ì •ì˜, ì°¸ì¡° ë¬¸ì„œ

### ì‚¬ìš© ê°€ì´ë“œ

- **í”„ë¡œì íŠ¸ ê´€ë¦¬ì**: ì„¹ì…˜ 6 (ì´ìŠˆ) + ì„¹ì…˜ 7 (ì‹¤í–‰ ê³„íš)
- **ê°œë°œì**: ì„¹ì…˜ 3 (ì•„í‚¤í…ì²˜) + ì„¹ì…˜ 5 (í…ŒìŠ¤íŠ¸)
- **ì‚¬ìš©ì**: ì„¹ì…˜ 1 (ìš”ì•½) + ê¸°ìˆ  ë¬¸ì„œ ë§í¬
- **ë¦¬ë·°ì–´**: ì„¹ì…˜ 2 (í˜„í™©) + ì„¹ì…˜ 4 (í’ˆì§ˆ)

---

**ë‹¤ìŒ: [ìš”ì•½](#ìš”ì•½)**


# ì„¹ì…˜ 1: ìš”ì•½ (í†µí•©ë³¸)

## 1.1 ì‚¬ìš©ì ê´€ì 

**Python-KIS**ëŠ” í•œêµ­íˆ¬ìì¦ê¶Œ REST/WebSocket APIë¥¼ íƒ€ì… ì•ˆì „í•˜ê²Œ ë˜í•‘í•œ ê°•ë ¥í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. 

**ì´ìƒì ì¸ ì‚¬ìš©ì ê²½í—˜**:
- âœ… ì„¤ì¹˜: `pip install python-kis` (1ë¶„)
- âœ… ì¸ì¦ ì„¤ì •: í™˜ê²½ë³€ìˆ˜ ë˜ëŠ” íŒŒì¼ (2ë¶„)
- âœ… ì²« API í˜¸ì¶œ: `kis.stock("005930").quote()` (2ë¶„)
- âœ… **ì´ 5ë¶„ ë‚´ ì™„ì£¼ ëª©í‘œ**

**í•µì‹¬ ê°€ì¹˜**:
- Protocolì´ë‚˜ Mixin ê°™ì€ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ì´í•´í•  í•„ìš” ì—†ìŒ
- IDE ìë™ì™„ì„± 100% ì§€ì›ìœ¼ë¡œ ì†ì‰¬ìš´ ê°œë°œ
- íƒ€ì… ì•ˆì „ì„±ì´ ë³´ì¥ëœ ì½”ë“œ

---

## 1.2 ì—”ì§€ë‹ˆì–´ ê´€ì 

**ì•„í‚¤í…ì²˜ í‰ê°€**: ğŸŸ¢ **4.5/5.0 - ìš°ìˆ˜**

### ê°•ì  âœ…

1. **ê²¬ê³ í•œ ì•„í‚¤í…ì²˜**
   - Protocol ê¸°ë°˜ êµ¬ì¡°ì  ì„œë¸Œíƒ€ì´í•‘
   - Mixin íŒ¨í„´ìœ¼ë¡œ ìˆ˜í‰ì  ê¸°ëŠ¥ í™•ì¥
   - Lazy Initialization & ì˜ì¡´ì„± ì£¼ì…
   - ë™ì  ì‘ë‹µ ë³€í™˜ ì‹œìŠ¤í…œ
   - ì´ë²¤íŠ¸ ê¸°ë°˜ WebSocket ê´€ë¦¬

2. **ì™„ë²½í•œ íƒ€ì… ì•ˆì „ì„±**
   - ëª¨ë“  í•¨ìˆ˜/í´ë˜ìŠ¤ì— Type Hint ì œê³µ
   - IDE ìë™ì™„ì„± 100% ì§€ì›
   - Runtime íƒ€ì… ì²´í¬ ê°€ëŠ¥

3. **êµ­ë‚´/í•´ì™¸ API í†µí•©**
   - ë™ì¼í•œ ì¸í„°í˜ì´ìŠ¤ë¡œ ì–‘ìª½ ì‹œì¥ ì§€ì›
   - ìë™ ë¼ìš°íŒ… ë° ë³€í™˜
   - ê°€ê²© ë‹¨ìœ„, ì‹œê°„ëŒ€ ìë™ ì¡°ì •

4. **ì•ˆì •ì ì¸ ë¼ì´ì„¼ìŠ¤**
   - MIT ë¼ì´ì„¼ìŠ¤ (ìƒìš© ì‚¬ìš© ê°€ëŠ¥)
   - ëª¨ë“  ì˜ì¡´ì„±ì´ Permissive ë¼ì´ì„¼ìŠ¤

5. **ë†’ì€ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€**
   - ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ê¸°ì¤€ 94% ì»¤ë²„ë¦¬ì§€
   - 840 passing tests, 5 skipped
   - ëª©í‘œ 80%+ ë‹¬ì„± ë° ìœ ì§€

### ì•½ì  âš ï¸ (ê°œì„  í•„ìš”)

| ìˆœë²ˆ | ë¬¸ì œ | ì‹¬ê°ë„ | ì˜í–¥ |
|-----|------|--------|------|
| 1 | ê³µê°œ API ê³¼ë‹¤ ë…¸ì¶œ (154ê°œ) | ğŸ”´ ê¸´ê¸‰ | ì´ˆë³´ì í˜¼ë€ |
| 2 | `__init__.py`ì™€ `types.py` ì¤‘ë³µ | ğŸ”´ ê¸´ê¸‰ | ìœ ì§€ë³´ìˆ˜ ë¹„ìš© 2ë°° |
| 3 | ì´ˆë³´ì ì§„ì… ì¥ë²½ (Protocol/Mixin ì´í•´ í•„ìš”) | ğŸŸ¡ ë†’ìŒ | ì˜¨ë³´ë”© ì‹¤íŒ¨ |
| 4 | í†µí•© í…ŒìŠ¤íŠ¸ ë¶€ì¡± (25ê°œë§Œ ì¡´ì¬) | ğŸŸ¡ ë†’ìŒ | ì‹¤ì œ ì‹œë‚˜ë¦¬ì˜¤ ê²€ì¦ ë¶€ì¬ |
| 5 | ë¹ ë¥¸ ì‹œì‘ ë¬¸ì„œ ë¶€ì¡± | ğŸŸ¡ ë†’ìŒ | ë¬¸ì˜/ì´íƒˆ ì¦ê°€ |
| 6 | ì˜ˆì œ ì½”ë“œ ë¶€ì¬ | ğŸŸ¡ ë†’ìŒ | í•™ìŠµ ê³¡ì„  ê°€íŒŒë¦„ |

---

## 1.3 í•µì‹¬ ë©”ì‹œì§€

> **Protocolê³¼ Mixinì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‚´ë¶€ êµ¬í˜„ì˜ ìš°ì•„í•¨ì„ ìœ„í•œ ê²ƒì…ë‹ˆë‹¤.**  
> **ì‚¬ìš©ìëŠ” ì´ê²ƒì„ ì „í˜€ ëª°ë¼ë„ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.**

---

## 1.4 í˜„ì¬ ìƒíƒœ ìš”ì•½ (v2 ê¸°ì¤€, 2025-12-17)

| ì§€í‘œ | ê°’ | ìƒíƒœ |
|------|-----|------|
| **ì „ì²´ ì½”ë“œ ë¼ì¸** | 15,000+ LOC | âœ… ì¤‘ê°„ ê·œëª¨ |
| **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸** | 840 passing, 5 skipped | âœ… ìš°ìˆ˜ |
| **ì»¤ë²„ë¦¬ì§€** | 94% (ë‹¨ìœ„ ê¸°ì¤€) | âœ… ëª©í‘œ ë‹¬ì„± |
| **ê³µê°œ API** | 154ê°œ | ğŸ”´ ì •ë¦¬ í•„ìš” |
| **ë¬¸ì„œ** | 6ê°œ + ìƒì„¸ ë¶„ì„ | ğŸŸ¡ ì˜ˆì œ/ë¹ ë¥¸ì‹œì‘ ë¶€ì¡± |
| **ì˜ì¡´ì„±** | 7ê°œ (í”„ë¡œë•ì…˜) | âœ… ìµœì†Œí™” |
| **ë¼ì´ì„¼ìŠ¤** | MIT | âœ… ìƒìš© ê°€ëŠ¥ |

---

## 1.5 ê°œì„  ì „ëµ (3ë‹¨ê³„ ì ‘ê·¼)

### Phase 1 (1ê°œì›”): ê¸´ê¸‰ ê°œì„ 
- ê³µê°œ API ì •ë¦¬ (154 â†’ 20ê°œ)
- íƒ€ì… ëª¨ë“ˆ ë¶„ë¦¬ (ì¤‘ë³µ í•´ê²°)
- ë¹ ë¥¸ ì‹œì‘ ë¬¸ì„œ + ì˜ˆì œ

### Phase 2 (2ê°œì›”): í’ˆì§ˆ í–¥ìƒ
- ë¬¸ì„œí™” ì™„ì„±
- í†µí•© í…ŒìŠ¤íŠ¸ ì¶”ê°€
- CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•

### Phase 3 (3ê°œì›”+): ì»¤ë®¤ë‹ˆí‹° í™•ì¥
- ì˜ˆì œ/íŠœí† ë¦¬ì–¼ í™•ëŒ€
- ë‹¤êµ­ì–´ ë¬¸ì„œ
- ì»¤ë®¤ë‹ˆí‹° í”¼ë“œë°± ìˆ˜ì§‘

---

**ë‹¤ìŒ: [í˜„í™© ë¶„ì„](#í˜„í™©-ë¶„ì„)**


# ì„¹ì…˜ 2: í˜„í™© ë¶„ì„ (í†µí•©ë³¸)

## 2.1 í”„ë¡œì íŠ¸ ê¸°ë³¸ ì •ë³´

| í•­ëª© | ê°’ |
|------|-----|
| **í”„ë¡œì íŠ¸ëª…** | python-kis |
| **í˜„ì¬ ë²„ì „** | 2.1.7 |
| **Python ìš”êµ¬ì‚¬í•­** | 3.10+ |
| **ë¼ì´ì„¼ìŠ¤** | MIT |
| **ì €ì¥ì†Œ** | https://github.com/Soju06/python-kis |
| **ìœ ì§€ë³´ìˆ˜ì** | Soju06 (qlskssk@gmail.com) |
| **ìµœê·¼ ì¸¡ì •** | 2025ë…„ 12ì›” 17ì¼ |

---

## 2.2 ì½”ë“œ ê·œëª¨ (2025-12-17 ì¸¡ì •)

```
ğŸ“¦ python-kis/                      (ì „ì²´ ~15,000 LOC)
â”œâ”€â”€ ğŸ“‚ pykis/                       (~8,500 LOC)
â”‚   â”œâ”€â”€ ğŸ“‚ adapter/                 (~600 LOC)
â”‚   â”œâ”€â”€ ğŸ“‚ api/                     (~4,000 LOC)
â”‚   â”‚   â”œâ”€â”€ account/               (1,800 LOC)
â”‚   â”‚   â”œâ”€â”€ stock/                 (1,500 LOC)
â”‚   â”‚   â””â”€â”€ websocket/             (400 LOC)
â”‚   â”œâ”€â”€ ğŸ“‚ client/                  (~1,500 LOC)
â”‚   â”œâ”€â”€ ğŸ“‚ event/                   (~600 LOC)
â”‚   â”œâ”€â”€ ğŸ“‚ responses/               (~800 LOC)
â”‚   â”œâ”€â”€ ğŸ“‚ scope/                   (~400 LOC)
â”‚   â””â”€â”€ ğŸ“‚ utils/                   (~600 LOC)
â”œâ”€â”€ ğŸ“‚ tests/                       (~4,000 LOC)
â”‚   â”œâ”€â”€ unit/                      (3,500 LOC) âœ…
â”‚   â”œâ”€â”€ integration/               (300 LOC) ğŸŸ¡
â”‚   â””â”€â”€ performance/               (200 LOC) ğŸ”´
â”œâ”€â”€ ğŸ“‚ docs/                        (~2,500 LOC)
â”‚   â”œâ”€â”€ architecture/              (850 LOC)
â”‚   â”œâ”€â”€ developer/                 (900 LOC)
â”‚   â”œâ”€â”€ user/                      (950 LOC)
â”‚   â””â”€â”€ reports/                   (800 LOC)
â””â”€â”€ ğŸ“‚ htmlcov/                     (ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸)
```

---

## 2.3 ì˜ì¡´ì„± ë¶„ì„

### í”„ë¡œë•ì…˜ ì˜ì¡´ì„± (7ê°œ)

| íŒ¨í‚¤ì§€ | ë²„ì „ | ëª©ì  | ë¼ì´ì„¼ìŠ¤ |
|--------|------|------|---------|
| `requests` | >= 2.32.3 | HTTP í´ë¼ì´ì–¸íŠ¸ | Apache 2.0 |
| `websocket-client` | >= 1.8.0 | WebSocket í´ë¼ì´ì–¸íŠ¸ | LGPL v2.1 |
| `cryptography` | >= 43.0.0 | WebSocket ì•”í˜¸í™” | Apache 2.0 |
| `colorlog` | >= 6.8.2 | ì»¬ëŸ¬ ë¡œê¹… | MIT |
| `tzdata` | (latest) | ì‹œê°„ëŒ€ ë°ì´í„° | Public Domain |
| `typing-extensions` | (latest) | íƒ€ì… íŒíŠ¸ í™•ì¥ | PSF |
| `python-dotenv` | >= 1.2.1 | í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬ | BSD |

**í‰ê°€**: âœ… **ìµœì†Œí•œì˜ ì˜ì¡´ì„±, ëª¨ë‘ Permissive ë¼ì´ì„¼ìŠ¤**

### ê°œë°œ ì˜ì¡´ì„± (4ê°œ)

| íŒ¨í‚¤ì§€ | ë²„ì „ | ëª©ì  |
|--------|------|------|
| `pytest` | ^9.0.1 | í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ |
| `pytest-cov` | ^7.0.0 | ì»¤ë²„ë¦¬ì§€ ì¸¡ì • |
| `pytest-html` | ^4.1.1 | HTML ë¦¬í¬íŠ¸ |
| `pytest-asyncio` | ^1.3.0 | ë¹„ë™ê¸° í…ŒìŠ¤íŠ¸ |

---

## 2.4 ì»¤ë²„ë¦¬ì§€ ì¢…í•© ë¶„ì„ (2025-12-17)

### 2.4.1 ì „ì²´ í˜„í™©

```xml
<coverage line-rate="0.94" lines-valid="7227" lines-covered="6793">
```

| í•­ëª© | ê°’ | ìƒíƒœ |
|------|-----|------|
| **ì „ì²´ ë¼ì¸ ìˆ˜** | 7,227 | - |
| **ì»¤ë²„ëœ ë¼ì¸** | 6,793 | - |
| **ì»¤ë²„ë¦¬ì§€** | **94.0%** ğŸŸ¢ | ëª©í‘œ 80%+ ì´ˆê³¼ë‹¬ì„± |
| **ëª©í‘œ** | 80%+ | âœ… ë‹¬ì„± |
| **ì—¬ìœ ** | +14.0% | ìš°ìˆ˜ |

**í…ŒìŠ¤íŠ¸ ì‹¤í–‰ í˜„í™©**:
- âœ… ì „ì²´ í…ŒìŠ¤íŠ¸: 840 passed, 5 skipped
- âœ… ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€: 94% (í™•ì •)
- â³ í†µí•© í…ŒìŠ¤íŠ¸: ì˜ì¡´ì„± ì„¤ì¹˜(`requests-mock`) í›„ ì‹¤í–‰ ì˜ˆì •

**í‰ê°€**: ğŸŸ¢ **4.5/5.0 - ìš°ìˆ˜ (ë‹¨ìœ„ ê¸°ì¤€, ìœ ì§€ ë‹¨ê³„)**

### 2.4.2 ëª¨ë“ˆë³„ ì»¤ë²„ë¦¬ì§€ (2025-12-17)

#### ğŸŸ¢ ìš°ìˆ˜ (90%+)

| ëª¨ë“ˆ | ì»¤ë²„ë¦¬ì§€ | ìƒíƒœ |
|------|---------|------|
| `client` | 96.9% | âœ… ëª©í‘œ 70%+ ë‹¬ì„± |
| `utils` | 94.0% | âœ… ëª©í‘œ 70%+ ë‹¬ì„± |
| `responses` | 95.0% | âœ… ëª©í‘œ 70%+ ë‹¬ì„± |
| `event` | 93.6% | âœ… ëª©í‘œ 70%+ ë‹¬ì„± |

#### ğŸŸ¡ ì–‘í˜¸ (80-90%)

| ëª¨ë“ˆ | ì»¤ë²„ë¦¬ì§€ | ìƒíƒœ |
|------|---------|------|
| ë‚˜ë¨¸ì§€ ì£¼ìš” ëª¨ë“ˆ | 90% ì´ìƒ | âœ… ìœ ì§€ ì¤‘ |

### 2.4.3 í…ŒìŠ¤íŠ¸ êµ¬ì¡°

```
tests/                           (~4,000 LOC)
â”œâ”€â”€ unit/                        (3,500 LOC) âœ… 840 tests
â”‚   â”œâ”€â”€ api/                    (ì£¼ìš” API í…ŒìŠ¤íŠ¸)
â”‚   â”œâ”€â”€ client/                 (í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤íŠ¸)
â”‚   â”œâ”€â”€ event/                  (ì´ë²¤íŠ¸ í…ŒìŠ¤íŠ¸)
â”‚   â”œâ”€â”€ responses/              (ì‘ë‹µ ë³€í™˜ í…ŒìŠ¤íŠ¸)
â”‚   â”œâ”€â”€ scope/                  (ìŠ¤ì½”í”„ í…ŒìŠ¤íŠ¸)
â”‚   â””â”€â”€ utils/                  (ìœ í‹¸ë¦¬í‹° í…ŒìŠ¤íŠ¸)
â”œâ”€â”€ integration/                 (300 LOC) ğŸŸ¡ 25 tests
â”‚   â”œâ”€â”€ api/                    (API í”Œë¡œìš° í…ŒìŠ¤íŠ¸)
â”‚   â””â”€â”€ websocket/              (WebSocket í…ŒìŠ¤íŠ¸)
â””â”€â”€ performance/                 (200 LOC) ğŸ”´ 35 tests
    â”œâ”€â”€ benchmark/              (ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬)
    â””â”€â”€ stress/                 (ë¶€í•˜ í…ŒìŠ¤íŠ¸)
```

### 2.4.4 ì»¤ë²„ë¦¬ì§€ ë¶€ì¡± ë¶„ì„

#### ë¯¸ì»¤ë²„ ì˜ì—­ (ì•½ 434ì¤„ = 6%)

| ë²”ì£¼ | ë¹„ìœ¨ | ë‚´ìš© |
|------|------|------|
| **ì˜ˆì™¸ ì²˜ë¦¬ ê²½ë¡œ** | ~30% | API ì—ëŸ¬, íƒ€ì„ì•„ì›ƒ, ì˜ëª»ëœ íŒŒë¼ë¯¸í„° |
| **ì—£ì§€ ì¼€ì´ìŠ¤** | ~20% | ë¹ˆ ì‘ë‹µ, None ê°’, ê²½ê³„ê°’ |
| **WebSocket ì¬ì—°ê²°** | ~15% | ì—°ê²° ëŠê¹€, ìë™ ì¬ì—°ê²°, ì¬êµ¬ë… |
| **Rate Limiting** | ~10% | API í˜¸ì¶œ ì œí•œ ì‹œë‚˜ë¦¬ì˜¤ |
| **ì´ˆê¸°í™” ê²½ë¡œ** | ~10% | ì—¬ëŸ¬ ì´ˆê¸°í™” íŒ¨í„´, ì„¤ì • íŒŒì¼ |
| **ê¸°íƒ€** | ~15% | ë ˆê±°ì‹œ ì½”ë“œ, ì‹¤í—˜ì  ê¸°ëŠ¥ |

### 2.4.5 ìµœê·¼ ê°œì„  í˜„í™©

#### 2025-12-17 ê²€ì¦ ê²°ê³¼

**ì™„ë£Œëœ ì‘ì—…**:
1. âœ… ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰: **840 passed, 5 skipped**
2. âœ… ì»¤ë²„ë¦¬ì§€ ì¸¡ì •: **94% (ì „ì²´ í”„ë¡œì íŠ¸ ê¸°ì¤€, ë‹¨ìœ„ í…ŒìŠ¤íŠ¸)**
3. âœ… ëª¨ë“ˆë³„ ë¶„ì„: 4ê°œ í•µì‹¬ ëª¨ë“ˆ ëª¨ë‘ 90%+ ìœ ì§€
4. âœ… í…ŒìŠ¤íŠ¸ ìŠ¤í‚µ ê°ì†Œ: 13 â†’ 5 (8ê°œ ì¶”ê°€ í†µê³¼)

**í•µì‹¬ ë°œê²¬ì‚¬í•­**:

##### a) KisObject.transform_() íŒ¨í„´
- ë³µì¡í•œ API ì‘ë‹µì„ ìë™ìœ¼ë¡œ íƒ€ì…ì´ ì§€ì •ëœ ê°ì²´ë¡œ ë³€í™˜
- Mock ì„¤ì • ì‹œ `__data__` ì†ì„±ì— API ì‘ë‹µ ë°ì´í„° ì¶”ê°€ í•„ìš”
- ê¸°ì¡´ ìŠ¤í‚µëœ í…ŒìŠ¤íŠ¸ ì¤‘ ì¶”ê°€ë¡œ 10-15ê°œ êµ¬í˜„ ê°€ëŠ¥

##### b) Response Mock ì™„ì „ì„± í‘œì¤€í™”
- í•„ìˆ˜ ì†ì„±: `status_code`, `text`, `headers`, `request`
- í‘œì¤€ Mock êµ¬ì¡° ìˆ˜ë¦½ìœ¼ë¡œ ì•ˆì •ì„± í–¥ìƒ
- ëª¨ë“  Response Mock ê´€ë ¨ í…ŒìŠ¤íŠ¸ ì•ˆì •í™” ê°€ëŠ¥

##### c) ë§ˆì¼“ ì½”ë“œ ë°˜ë³µ ë¡œì§
- **ë‹¨ì¼ ì½”ë“œ ë§ˆì¼“** (ì¬ì‹œë„ ë¶ˆê°€): KR, KRX, NASDAQ ë“±
- **ë‹¤ì¤‘ ì½”ë“œ ë§ˆì¼“** (ì¬ì‹œë„ ê°€ëŠ¥): US, HK, VN, CN ë“±
- ì •í™•í•œ ë§ˆì¼“ ì„ íƒìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì‹ ë¢°ì„± í™•ë³´

**ì˜ˆìƒ íš¨ê³¼**:
- ì¶”ê°€ í…ŒìŠ¤íŠ¸ 10-15ê°œ êµ¬í˜„ìœ¼ë¡œ ì»¤ë²„ë¦¬ì§€ 1-2% ì¦ê°€ ê°€ëŠ¥
- ì•ˆì •ì ì¸ Mock êµ¬ì¡°ë¡œ í†µí•© í…ŒìŠ¤íŠ¸ ê¸°ë°˜ ë§ˆë ¨

---

## 2.5 íƒ€ì… íŒíŠ¸ ì ìš© í˜„í™©

| ì¹´í…Œê³ ë¦¬ | ì ìš©ë¥  | í‰ê°€ |
|---------|--------|------|
| **í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜** | 100% | ğŸŸ¢ ì™„ë²½ |
| **ë°˜í™˜ íƒ€ì…** | 100% | ğŸŸ¢ ì™„ë²½ |
| **ë³€ìˆ˜ ì„ ì–¸** | 95%+ | ğŸŸ¢ ìš°ìˆ˜ |
| **ì œë„¤ë¦­ íƒ€ì…** | 90%+ | ğŸŸ¢ ìš°ìˆ˜ |

**ì¢…í•© í‰ê°€**: ğŸŸ¢ **5.0/5.0 - ì™„ë²½**

---

## 2.6 ì½”ë“œ ë³µì¡ë„ ë¶„ì„

| íŒŒì¼ | LOC | í•¨ìˆ˜ ìˆ˜ | í‰ê·  ë³µì¡ë„ | í‰ê°€ |
|------|-----|---------|-------------|------|
| `kis.py` | 800 | 50+ | ì¤‘ê°„ | ğŸŸ¢ ì–‘í˜¸ |
| `dynamic.py` | 500 | 30+ | ë†’ìŒ | ğŸŸ¡ ê°œì„  ê¶Œì¥ |
| `websocket.py` | 450 | 25+ | ì¤‘ê°„ | ğŸŸ¢ ì–‘í˜¸ |
| `handler.py` | 300 | 20+ | ë‚®ìŒ | ğŸŸ¢ ìš°ìˆ˜ |
| `order.py` | 400 | 30+ | ì¤‘ê°„ | ğŸŸ¢ ì–‘í˜¸ |

**ì¢…í•© í‰ê°€**: ğŸŸ¢ **4.0/5.0 - ì–‘í˜¸**

---

## 2.7 ì½”ë”© ìŠ¤íƒ€ì¼ í‰ê°€

âœ… **PEP 8 ì¤€ìˆ˜**
âœ… **Type Hint ì™„ë²½ ì ìš©**
âœ… **Docstring ëŒ€ë¶€ë¶„ ì œê³µ**
âœ… **ëª…í™•í•œ ë³€ìˆ˜ëª… ì‚¬ìš©**
âœ… **í•¨ìˆ˜ í¬ê¸° ì ì ˆ (í‰ê·  20ì¤„ ì´ë‚´)**

**í‰ê°€**: ğŸŸ¢ **4.5/5.0 - ìš°ìˆ˜**

---

## 2.8 ë¬¸ì„œí™” í˜„í™©

### ê¸°ì¡´ ë¬¸ì„œ (6ê°œ)

```
docs/
â”œâ”€â”€ README.md                         (416 lines) âœ…
â”œâ”€â”€ architecture/ARCHITECTURE.md      (634 lines) âœ…
â”œâ”€â”€ developer/DEVELOPER_GUIDE.md      (900 lines) âœ…
â”œâ”€â”€ user/USER_GUIDE.md                (950 lines) âœ…
â”œâ”€â”€ reports/CODE_REVIEW.md            (600 lines) âœ…
â”œâ”€â”€ reports/FINAL_REPORT.md           (608 lines) âœ…
â””â”€â”€ reports/TEST_COVERAGE_REPORT.md   (438 lines) âœ…
```

**ì´ ë¬¸ì„œ**: 6ê°œ í•µì‹¬ ë¬¸ì„œ  
**ì´ ë¼ì¸ ìˆ˜**: 5,800+ ì¤„  
**ì´ ë‹¨ì–´ ìˆ˜**: 38,000+ ë‹¨ì–´

### ë¶€ì¡±í•œ ë¬¸ì„œ (ê¸´ê¸‰ í•„ìš”)

| ë¬¸ì„œ | ì¤‘ìš”ë„ | ìƒíƒœ | ì˜í–¥ |
|------|--------|------|------|
| **QUICKSTART.md** | ğŸ”´ ê¸´ê¸‰ | âŒ | 5ë¶„ ë‚´ ì‹œì‘ ë¶ˆê°€ |
| **examples/** | ğŸ”´ ê¸´ê¸‰ | âŒ | í•™ìŠµ ìë£Œ ë¶€ì¬ |
| **CONTRIBUTING.md** | ğŸŸ¡ ë†’ìŒ | âŒ | ê¸°ì—¬ ê°€ì´ë“œ ë¶€ì¬ |
| **CHANGELOG.md** | ğŸŸ¡ ë†’ìŒ | âŒ | ë³€ê²½ì‚¬í•­ ì¶”ì  ì–´ë ¤ì›€ |
| **API_REFERENCE.md** | ğŸŸ¢ ì¤‘ê°„ | âŒ | ìƒì„¸ API ë¬¸ì„œ ë¶€ì¬ |

---

**ë‹¤ìŒ: [ì•„í‚¤í…ì²˜ ì‹¬ì¸µ ë¶„ì„](#ì•„í‚¤í…ì²˜-ì‹¬ì¸µ-ë¶„ì„)**


# ì„¹ì…˜ 3: ê³µê°œ íƒ€ì… ëª¨ë“ˆ ë¶„ë¦¬ ì •ì±… (í•µì‹¬ ì „ëµ)

## 3.1 ë¬¸ì œ ì •ì˜

### 3.1.1 __init__.py ê³¼ë‹¤ ë…¸ì¶œ í˜„í™©

**í˜„ì¬ ìƒíƒœ**:
```python
# pykis/__init__.py
__all__ = [
    # ì´ 154ê°œ í•­ëª© export
    "PyKis",                      # âœ… í•„ìš”
    "KisAuth",                    # âœ… í•„ìš”
    "KisObjectProtocol",          # âŒ ë‚´ë¶€ êµ¬í˜„
    "KisMarketProtocol",          # âŒ ë‚´ë¶€ êµ¬í˜„
    "KisProductProtocol",         # âŒ ë‚´ë¶€ êµ¬í˜„
    "KisAccountProductProtocol",  # âŒ ë‚´ë¶€ êµ¬í˜„
    # ... 150ê°œ ì´ìƒ ë‚´ë¶€ êµ¬í˜„ ë…¸ì¶œ
]
```

**ë¬¸ì œì **:
- ğŸ”´ ì´ˆë³´ìê°€ ì–´ë–¤ ê²ƒì„ importí•´ì•¼ í• ì§€ í˜¼ë€
- ğŸ”´ IDE ìë™ì™„ì„± ëª©ë¡ì´ ì§€ë‚˜ì¹˜ê²Œ ê¸¸ì–´ì§ (150+ê°œ)
- ğŸ”´ ê³µê°œ APIì™€ ë‚´ë¶€ êµ¬í˜„ì˜ ê²½ê³„ ëª¨í˜¸
- ğŸ”´ í•˜ìœ„ í˜¸í™˜ì„± ê´€ë¦¬ ë¶€ë‹´ (ëª¨ë“  154ê°œë¥¼ ìœ ì§€í•´ì•¼ í•¨)
- ğŸ”´ ë§ˆì´ê·¸ë ˆì´ì…˜ ë¶ˆê°€ëŠ¥ (í•­ëª© ì´ë™ ì‹œ ê¹¨ì§)

### 3.1.2 types.py ì¤‘ë³µ ì •ì˜ ë¬¸ì œ

**í˜„ì¬ ìƒíƒœ**:
```python
# pykis/__init__.py
__all__ = [
    "KisObjectProtocol",   # 154ê°œ í•­ëª© export
    "KisMarketProtocol",
    # ... (ì¤‘ë³µ)
]

# pykis/types.py
__all__ = [
    "KisObjectProtocol",   # ë™ì¼í•œ 154ê°œ í•­ëª© ì¬ì •ì˜
    "KisMarketProtocol",
    # ... (ì¤‘ë³µ)
]
```

**ë¬¸ì œì **:
- ğŸ”´ ìœ ì§€ë³´ìˆ˜ ì´ì¤‘ ë¶€ë‹´: ê°™ì€ íƒ€ì…ì„ ë‘ íŒŒì¼ì—ì„œ ê´€ë¦¬
- ğŸ”´ ë¶ˆì¼ì¹˜ ë¦¬ìŠ¤í¬: í•œìª½ë§Œ ê°±ì‹ ë˜ë©´ import ê²½ë¡œë§ˆë‹¤ ë‹¤ë¥¸ ê²°ê³¼
- ğŸ”´ ê³µê°œ API ê²½ë¡œ ë¶ˆëª…í™•: `from pykis import X` vs `from pykis.types import X` ì–´ëŠ ê²ƒì´ ê³µì‹?
- ğŸ”´ ë²„ì „ ì—…ê·¸ë ˆì´ë“œ ì‹œ ë¶ˆì¼ì¹˜ ê°€ëŠ¥ì„± ë†’ìŒ

---

## 3.2 í•´ê²° ë°©ì•ˆ: 3ë‹¨ê³„ ë¦¬íŒ©í† ë§

### 3.2.1 Phase 1: ê³µê°œ íƒ€ì… ëª¨ë“ˆ ë¶„ë¦¬ (ì¦‰ì‹œ ì ìš©, Breaking Change ì—†ìŒ)

**ëª©í‘œ**: ì‚¬ìš©ìê°€ importí•  í•„ìš”í•œ íƒ€ì…ë§Œ `public_types.py`ë¡œ ë¶„ë¦¬

**ì‹ ê·œ íŒŒì¼ ìƒì„±: `pykis/public_types.py`**

```python
"""
ì‚¬ìš©ìë¥¼ ìœ„í•œ ê³µê°œ íƒ€ì… ì •ì˜

ì´ ëª¨ë“ˆì€ ì‚¬ìš©ìê°€ Type Hintë¥¼ ì‘ì„±í•  ë•Œ í•„ìš”í•œ
í•µì‹¬ íƒ€ì… ë³„ì¹­ë§Œ í¬í•¨í•©ë‹ˆë‹¤. Protocol, Adapter,
ë‚´ë¶€ êµ¬í˜„ íƒ€ì…ì€ í¬í•¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ì˜ˆì œ:
    >>> from pykis import Quote, Balance, Order
    >>> 
    >>> def process_quote(quote: Quote) -> None:
    ...     print(f"ê°€ê²©: {quote.price}")
    
    >>> def on_balance_update(balance: Balance) -> None:
    ...     print(f"ì”ê³ : {balance.deposits}")
"""

from typing import TypeAlias

# ============================================================================
# ì‘ë‹µ íƒ€ì… Import (ë‚´ë¶€ ê²½ë¡œëŠ” underscoreë¡œ í‘œì‹œ)
# ============================================================================

from pykis.api.stock.quote import KisQuoteResponse as _KisQuoteResponse
from pykis.api.account.balance import KisIntegrationBalance as _KisIntegrationBalance
from pykis.api.account.order import KisOrder as _KisOrder
from pykis.api.stock.chart import KisChart as _KisChart
from pykis.api.stock.order_book import KisOrderbook as _KisOrderbook
from pykis.api.stock.market import KisMarketInfo as _KisMarketInfo
from pykis.api.stock.trading_hours import KisTradingHours as _KisTradingHours

# ============================================================================
# ì‚¬ìš©ì ì¹œí™”ì ì¸ íƒ€ì… ë³„ì¹­ (ì§§ì€ ì´ë¦„, Docstring í¬í•¨)
# ============================================================================

Quote: TypeAlias = _KisQuoteResponse
"""
ì‹œì„¸ ì •ë³´ íƒ€ì…

ì˜ˆì œ:
    quote = kis.stock("005930").quote()
    print(quote.name)      # "ì‚¼ì„±ì „ì"
    print(quote.price)     # 65000
    print(quote.change)    # 500
"""

Balance: TypeAlias = _KisIntegrationBalance
"""
ê³„ì¢Œ ì”ê³  íƒ€ì… (êµ­ë‚´/í•´ì™¸ í†µí•©)

ì˜ˆì œ:
    balance = kis.account().balance()
    print(balance.cash)           # í˜„ê¸ˆ
    print(balance.stocks)         # ë³´ìœ  ì¢…ëª© ë¦¬ìŠ¤íŠ¸
    print(balance.deposits)       # ì˜ˆìˆ˜ê¸ˆ (ì›/ë‹¬ëŸ¬/ìœ„ì•ˆ ë“±)
"""

Order: TypeAlias = _KisOrder
"""
ì£¼ë¬¸ ì •ë³´ íƒ€ì…

ì˜ˆì œ:
    order = kis.stock("005930").buy(price=65000, qty=10)
    print(order.order_number)     # ì£¼ë¬¸ë²ˆí˜¸
    print(order.status)           # ì£¼ë¬¸ ìƒíƒœ
    print(order.qty)              # ì£¼ë¬¸ ìˆ˜ëŸ‰
"""

Chart: TypeAlias = _KisChart
"""
ì°¨íŠ¸ ë°ì´í„° íƒ€ì… (ì¼/ì£¼/ì›” OHLCV)

ì˜ˆì œ:
    charts = kis.stock("005930").chart("D")  # ì¼ë´‰
    for bar in charts:
        print(bar.date, bar.open, bar.high, bar.low, bar.close, bar.volume)
"""

Orderbook: TypeAlias = _KisOrderbook
"""
í˜¸ê°€ ì •ë³´ íƒ€ì… (ë§¤ìˆ˜/ë§¤ë„ í˜¸ê°€ ì •ë³´)

ì˜ˆì œ:
    orderbook = kis.stock("005930").orderbook()
    print(orderbook.ask_prices)    # ë§¤ë„í˜¸ê°€ [ìµœìš°ì„ , 2ì°¨, 3ì°¨, ...]
    print(orderbook.bid_prices)    # ë§¤ìˆ˜í˜¸ê°€
    print(orderbook.ask_volumes)   # ë§¤ë„ ìˆ˜ëŸ‰
    print(orderbook.bid_volumes)   # ë§¤ìˆ˜ ìˆ˜ëŸ‰
"""

MarketInfo: TypeAlias = _KisMarketInfo
"""
ì‹œì¥ ì •ë³´ íƒ€ì… (ì¢…ëª© ìƒì¥ ì •ë³´, ì—…ì¢… ë¶„ë¥˜ ë“±)

ì˜ˆì œ:
    info = kis.stock("005930").info()
    print(info.market)             # ìƒì¥ ì‹œì¥ (KOSPI)
    print(info.sector)             # ì—…ì¢…
    print(info.listed_date)        # ìƒì¥ì¼
"""

TradingHours: TypeAlias = _KisTradingHours
"""
ì¥ ì‹œê°„ ì •ë³´ íƒ€ì… (ê°œì¥/íì¥/ì£¼ë§/íœ´ì¥)

ì˜ˆì œ:
    hours = kis.stock("005930").trading_hours()
    print(hours.is_open_now)       # ì§€ê¸ˆ ì¥ì¤‘ì¸ê°€?
    print(hours.next_open_time)    # ë‹¤ìŒ ê°œì¥ ì‹œê°„
    print(hours.close_time)        # íì¥ ì‹œê°„
"""

# ============================================================================
# ê³µê°œ API
# ============================================================================

__all__ = [
    # ì£¼ìš” ì‘ë‹µ íƒ€ì… (ì‚¬ìš©ìê°€ ìì£¼ ì‚¬ìš©)
    "Quote",
    "Balance",
    "Order",
    "Chart",
    "Orderbook",
    
    # ì¶”ê°€ íƒ€ì…
    "MarketInfo",
    "TradingHours",
]
```

### 3.2.2 Phase 2: `__init__.py` ìµœì†Œí™” (í•˜ìœ„ í˜¸í™˜ì„± ìœ ì§€)

**ëª©í‘œ**: ê³µê°œ APIë¥¼ 20ê°œ ì´í•˜ë¡œ ì¶•ì†Œí•˜ë˜, ê¸°ì¡´ ì½”ë“œ ê³„ì† ë™ì‘

**ê°œì„ ëœ `pykis/__init__.py`**

```python
"""
Python-KIS: í•œêµ­íˆ¬ìì¦ê¶Œ API ë¼ì´ë¸ŒëŸ¬ë¦¬

ë¹ ë¥¸ ì‹œì‘:
    >>> from pykis import PyKis
    >>> # ê¶Œì¥: ë¯¼ê° ì •ë³´ëŠ” ì½”ë“œì— ì§ì ‘ ì‘ì„±í•˜ì§€ ë§ê³  ì™¸ë¶€ì—ì„œ ë¡œë“œí•˜ì„¸ìš”.
    >>> # ì˜ˆ: YAML ì„¤ì • íŒŒì¼ì—ì„œ ë¡œë“œ
    >>> import yaml
    >>> with open("config.yaml", "r", encoding="utf-8") as f:
    ...     cfg = yaml.safe_load(f)
    >>> kis = PyKis(id=cfg["id"], account=cfg["account"], 
    ...              appkey=cfg["appkey"], secretkey=cfg["secretkey"])
    >>> quote = kis.stock("005930").quote()
    >>> print(f"{quote.name}: {quote.price:,}ì›")

    # ìƒ˜í”Œ `config.yaml` (ì ˆëŒ€ ë¦¬í¬ì§€í† ë¦¬ì— ì»¤ë°‹í•˜ì§€ ë§ˆì„¸ìš”)
    # -----------------------------------------------------
    # id: "YOUR_ID"
    # account: "YOUR_ACCOUNT"
    # appkey: "YOUR_APPKEY"
    # secretkey: "YOUR_SECRET"
    # -----------------------------------------------------
    # í…ŒìŠ¤íŠ¸ íŒ: í…ŒìŠ¤íŠ¸ì—ì„œëŠ” íŒŒì¼ ëŒ€ì‹  ì„ì‹œ íŒŒì¼ì´ë‚˜ í™˜ê²½ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.
    # ì˜ˆ: pytestì˜ monkeypatchë¡œ env ì„¤ì • ë˜ëŠ” tmp_pathì— í…ŒìŠ¤íŠ¸ ì „ìš© YAML ìƒì„±
    # ì˜ˆì‹œ (pytest):
    # def test_quickstart(tmp_path, monkeypatch):
    #     cfg_file = tmp_path / "config.yaml"
    #     cfg_file.write_text('id: test\naccount: acc\nappkey: test\nsecretkey: test')
    #     monkeypatch.chdir(tmp_path)
    #     # ì´í›„ ì½”ë“œì—ì„œ config.yamlì„ ì½ì–´ë„ í…ŒìŠ¤íŠ¸ ì „ìš© ê°’ì´ ì‚¬ìš©ë©ë‹ˆë‹¤.

ê³µê°œ íƒ€ì… ì‚¬ìš©:
    >>> from pykis import Quote, Balance, Order
    >>> 
    >>> def on_quote(quote: Quote) -> None:
    ...     print(f"ìƒˆë¡œìš´ ê°€ê²©: {quote.price}")

ê³ ê¸‰ ì‚¬ìš© (ë‚´ë¶€ êµ¬ì¡° í™•ì¥):
    - ì•„í‚¤í…ì²˜ ë¬¸ì„œ: docs/ARCHITECTURE.md
    - Protocol ì •ì˜: pykis.types (v3.0.0ì—ì„œ ì œê±° ì˜ˆì •)
    - ë‚´ë¶€ êµ¬í˜„: pykis._internal
"""

# ============================================================================
# í•µì‹¬ í´ë˜ìŠ¤ (ê³µê°œ API)
# ============================================================================

from pykis.kis import PyKis
from pykis.client.auth import KisAuth

# ============================================================================
# ê³µê°œ íƒ€ì… (Type Hintìš©) - public_types.pyì—ì„œ ì¬export
# ============================================================================

from pykis.public_types import (
    Quote,
    Balance,
    Order,
    Chart,
    Orderbook,
    MarketInfo,
    TradingHours,
)

# ============================================================================
# ì„ íƒì : ì´ˆë³´ììš© ë„êµ¬ (v2.2.0 ì´ìƒì—ì„œ ì¶”ê°€)
# ============================================================================

try:
    from pykis.simple import SimpleKIS
    from pykis.helpers import create_client, save_config_interactive
except ImportError:
    # ì•„ì§ êµ¬í˜„ë˜ì§€ ì•Šì€ ê²½ìš° ë¬´ì‹œ
    SimpleKIS = None
    create_client = None
    save_config_interactive = None

# ============================================================================
# í•˜ìœ„ í˜¸í™˜ì„±: ê¸°ì¡´ import ì§€ì› (Deprecated)
#
# v2.2.0 (í˜„ì¬): __getattr__ ë¡œ DeprecationWarning ë°œìƒ
# v2.3.0~v2.9.0: ìœ ì§€ (ì—…ë°ì´íŠ¸ ê¶Œê³ )
# v3.0.0: ì œê±°
# ============================================================================

import warnings
from importlib import import_module
from typing import Any

def __getattr__(name: str) -> Any:
    """
    Deprecated ì´ë¦„ì— ëŒ€í•œ í•˜ìœ„ í˜¸í™˜ì„± ì œê³µ
    
    ì‚¬ìš©ìê°€ deprecated ê²½ë¡œë¡œ import ì‹œ:
    - DeprecationWarning ë°œìƒ
    - pykis.typesì—ì„œ í•´ë‹¹ í•­ëª© ë°˜í™˜
    
    ì˜ˆ:
        >>> from pykis import KisObjectProtocol  # âš ï¸ Deprecated
        DeprecationWarning: 'KisObjectProtocol'ì€(ëŠ”) íŒ¨í‚¤ì§€ ë£¨íŠ¸ì—ì„œ 
        importí•˜ëŠ” ê²ƒì´ deprecatedë˜ì—ˆìŠµë‹ˆë‹¤. ëŒ€ì‹  'from pykis.types 
        import KisObjectProtocol'ì„ ì‚¬ìš©í•˜ì„¸ìš”. ì´ ê¸°ëŠ¥ì€ v3.0.0ì—ì„œ 
        ì œê±°ë  ì˜ˆì •ì…ë‹ˆë‹¤.
    """
    
    # ë‚´ë¶€ Protocolë“¤ (Deprecated)
    _deprecated_internals = {
        # Protocolë“¤
        "KisObjectProtocol": "pykis.types",
        "KisMarketProtocol": "pykis.types",
        "KisProductProtocol": "pykis.types",
        "KisAccountProtocol": "pykis.types",
        "KisAccountProductProtocol": "pykis.types",
        "KisWebsocketQuotableProtocol": "pykis.types",
        
        # Adapterë“¤ (ìœ„í—˜)
        "KisQuotableAccount": "pykis.adapter.account.quote",
        "KisOrderableAccount": "pykis.adapter.account.order",
        
        # ê¸°íƒ€
        "TIMEX_TYPE": "pykis.types",
        "COUNTRY_TYPE": "pykis.types",
        # ... ê¸°íƒ€ ëª¨ë“  ë‚´ë¶€ í•­ëª©
    }
    
    if name in _deprecated_internals:
        module_name = _deprecated_internals[name]
        warnings.warn(
            f"from pykis import {name}ì€(ëŠ”) deprecatedë˜ì—ˆìŠµë‹ˆë‹¤. "
            f"ëŒ€ì‹  'from {module_name} import {name}'ì„ ì‚¬ìš©í•˜ì„¸ìš”. "
            f"ì´ ê¸°ëŠ¥ì€ v3.0.0ì—ì„œ ì œê±°ë  ì˜ˆì •ì…ë‹ˆë‹¤.",
            DeprecationWarning,
            stacklevel=2,
        )
        module = import_module(module_name)
        return getattr(module, name)
    
    raise AttributeError(f"module 'pykis' has no attribute '{name}'")

# ============================================================================
# ê³µê°œ API ì •ì˜
# ============================================================================

__all__ = [
    # === í•µì‹¬ í´ë˜ìŠ¤ ===
    "PyKis",           # ì§„ì…ì 
    "KisAuth",         # ì¸ì¦
    
    # === ê³µê°œ íƒ€ì… (Type Hintìš©) ===
    "Quote",           # ì‹œì„¸
    "Balance",         # ì”ê³ 
    "Order",           # ì£¼ë¬¸
    "Chart",           # ì°¨íŠ¸
    "Orderbook",       # í˜¸ê°€
    "MarketInfo",      # ì‹œì¥ì •ë³´
    "TradingHours",    # ì¥ì‹œê°„
    
    # === ì´ˆë³´ì ë„êµ¬ ===
    "SimpleKIS",            # ë‹¨ìˆœ ì¸í„°í˜ì´ìŠ¤
    "create_client",        # ìë™ í´ë¼ì´ì–¸íŠ¸ ìƒì„±
    "save_config_interactive",  # ëŒ€í™”í˜• ì„¤ì • ì €ì¥
]

__version__ = "2.1.7"
```

### 3.2.3 Phase 3: `types.py` ì—­í•  ëª…í™•í™”

**ëª©í‘œ**: types.pyë¥¼ ê³ ê¸‰ ì‚¬ìš©ì ë° ê°œë°œì ì „ìš©ìœ¼ë¡œ ì¬ì •ì˜

**ê°œì„ ëœ `pykis/types.py`**

```python
"""
ë‚´ë¶€ íƒ€ì… ë° Protocol ì •ì˜

âš ï¸ ì£¼ì˜: ì´ ëª¨ë“ˆì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‚´ë¶€ìš©ì…ë‹ˆë‹¤.
ì¼ë°˜ ì‚¬ìš©ìëŠ” ì•„ë˜ ë¬¸ì„œë¥¼ ë”°ë¥´ì„¸ìš”.

ëˆ„ê°€ ì‚¬ìš©í•´ì•¼ í•˜ë‚˜?:
    
    1. ì¼ë°˜ ì‚¬ìš©ì
       â””â”€ from pykis import Quote, Balance, Order ì‚¬ìš©
       
    2. Type Hintë¥¼ ì‘ì„±í•˜ëŠ” ê°œë°œì
       â””â”€ from pykis import Quote, Balance ì‚¬ìš© (ê³µê°œ íƒ€ì…)
       
    3. ê³ ê¸‰ ì‚¬ìš©ì / ê¸°ì—¬ì (í™•ì¥)
       â”œâ”€ from pykis.types import KisObjectProtocol  (Protocol)
       â”œâ”€ from pykis.adapter.* import * (Adapter)
       â””â”€ docs/ARCHITECTURE.md ë¬¸ì„œ ì½ê¸°

ë²„ì „ ì •ì±…:
    - v2.2.0~v2.9.x: ëª¨ë“  í•­ëª© ìœ ì§€ (ì´ ëª¨ë“ˆ ê³„ì† import ê°€ëŠ¥)
    - v3.0.0: ì´ ëª¨ë“ˆ ì œê±° (ì§ì ‘ import ë¶ˆê°€)
    
    âš ï¸ v3.0.0ë¶€í„° 'from pykis.types import ...'ì€ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
       ê³ ê¸‰ ì‚¬ìš©ìëŠ” 'from pykis.adapter.* import ...' ë“±ìœ¼ë¡œ ë³€ê²½í•´ì•¼ í•©ë‹ˆë‹¤.

ì˜ˆì œ (ê³ ê¸‰ ì‚¬ìš©ì):
    >>> from pykis.types import KisObjectProtocol
    >>> 
    >>> class MyCustomObject(KisObjectProtocol):
    ...     def __init__(self, kis):
    ...         self.kis = kis
    ...     
    ...     def my_method(self):
    ...         return self.kis.fetch(...)
"""

from typing import Protocol, runtime_checkable

# ============================================================================
# Protocol ì •ì˜ (êµ¬ì¡°ì  ì„œë¸Œíƒ€ì´í•‘ ì§€ì›)
# ============================================================================

@runtime_checkable
class KisObjectProtocol(Protocol):
    """ëª¨ë“  API ê°ì²´ê°€ ì¤€ìˆ˜í•´ì•¼ í•˜ëŠ” í”„ë¡œí† ì½œ"""
    
    @property
    def kis(self) -> "PyKis":
        """PyKis ì¸ìŠ¤í„´ìŠ¤ ì°¸ì¡°"""
        ...

@runtime_checkable
class KisMarketProtocol(Protocol):
    """ì‹œì¥ ê´€ë ¨ API ê°ì²´ì˜ í”„ë¡œí† ì½œ"""
    
    def quote(self) -> "Quote":
        """ì‹œì„¸ ì¡°íšŒ"""
        ...

@runtime_checkable
class KisProductProtocol(Protocol):
    """ìƒí’ˆ(ì¢…ëª©) ê´€ë ¨ API ê°ì²´ì˜ í”„ë¡œí† ì½œ"""
    
    @property
    def symbol(self) -> str:
        """ì¢…ëª© ì½”ë“œ"""
        ...

# ============================================================================
# ê¸°ì¡´ ë‚´ìš© ìœ ì§€ (í•˜ìœ„ í˜¸í™˜ì„±)
# ============================================================================

# ... ë‚˜ë¨¸ì§€ ê¸°ì¡´ Protocol, TypeAlias, ìƒìˆ˜ ì •ì˜ë“¤ ê³„ì† ìœ ì§€

__all__ = [
    # Protocolë“¤ (ê³ ê¸‰ ì‚¬ìš©ììš©)
    "KisObjectProtocol",
    "KisMarketProtocol",
    "KisProductProtocol",
    
    # ... ê¸°ì¡´ ëª¨ë“  í•­ëª© ìœ ì§€ (í•˜ìœ„ í˜¸í™˜ì„±)
]
```

---

## 3.3 ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ (3ë‹¨ê³„, í•˜ìœ„ í˜¸í™˜ì„± 100% ìœ ì§€)

### 3.3.1 1ë‹¨ê³„: ì¤€ë¹„ (Breaking Change ì—†ìŒ) - ì¦‰ì‹œ ì ìš©

```bash
# 1. public_types.py ìƒì„±
# 2. __init__.py ì—…ë°ì´íŠ¸
#    - ìƒˆë¡œìš´ import ê²½ë¡œ ì¶”ê°€
#    - ê¸°ì¡´ import ê²½ë¡œëŠ” DeprecationWarningê³¼ í•¨ê»˜ ìœ ì§€
# 3. types.py ë¬¸ì„œ ì—…ë°ì´íŠ¸ (ì—­í•  ëª…í™•í™”)
```

**ì‚¬ìš©ì ì˜í–¥**: âœ… **ì—†ìŒ** (ëª¨ë“  ê¸°ì¡´ ì½”ë“œ ê³„ì† ë™ì‘)

### 3.3.2 2ë‹¨ê³„: ì „í™˜ ê¸°ê°„ (v2.2.0~v2.9.0) - 2-3 ë¦´ë¦¬ìŠ¤

```python
# ê¸°ì¡´ ì½”ë“œ (ê³„ì† ë™ì‘í•˜ì§€ë§Œ ê²½ê³  ë°œìƒ)
>>> from pykis import KisObjectProtocol
DeprecationWarning: from pykis import KisObjectProtocolì€(ëŠ”) 
deprecatedë˜ì—ˆìŠµë‹ˆë‹¤. ëŒ€ì‹  'from pykis.types import KisObjectProtocol'ì„ 
ì‚¬ìš©í•˜ì„¸ìš”. ì´ ê¸°ëŠ¥ì€ v3.0.0ì—ì„œ ì œê±°ë  ì˜ˆì •ì…ë‹ˆë‹¤.

# ê¶Œì¥ ë§ˆì´ê·¸ë ˆì´ì…˜
>>> from pykis.types import KisObjectProtocol      # ê³ ê¸‰ ì‚¬ìš©ì
>>> from pykis import Quote, Balance, Order         # ì¼ë°˜ ì‚¬ìš©ì
```

**ì‚¬ìš©ì ì˜í–¥**: ğŸŸ¡ **ê²½ê³  ë©”ì‹œì§€ë§Œ** (ê¸°ëŠ¥ì€ ê·¸ëŒ€ë¡œ)

**ì—…ë°ì´íŠ¸ ê°€ì´ë“œ**:

| ê¸°ì¡´ ì½”ë“œ | ì‹ ê·œ ì½”ë“œ | ëŒ€ìƒ | ìš°ì„ ìˆœìœ„ |
|----------|----------|------|----------|
| `from pykis import Quote` | `from pykis import Quote` | ëª¨ë‘ | í•„ìˆ˜ ì—†ìŒ (ì´ë¯¸ ì‘ë™) |
| `from pykis import KisObjectProtocol` | `from pykis.types import KisObjectProtocol` | ê³ ê¸‰ ì‚¬ìš©ì | ì„ íƒ |
| `from pykis import PyKis` | `from pykis import PyKis` | ëª¨ë‘ | í•„ìˆ˜ ì—†ìŒ (ê·¸ëŒ€ë¡œ) |

### 3.3.3 3ë‹¨ê³„: ì •ë¦¬ (v3.0.0) - Breaking Change

```python
# v3.0.0: Deprecated ê²½ë¡œ ì™„ì „ ì œê±°

# âœ… ë™ì‘
from pykis import PyKis, Quote, Balance
from pykis.types import KisObjectProtocol  # ì—¬ì „íˆ ë™ì‘
from pykis.adapter.account.quote import KisQuotableAccount  # ì§ì ‘ ì ‘ê·¼

# âŒ ì‘ë™ ë¶ˆê°€ (error ë°œìƒ)
from pykis import KisObjectProtocol  # AttributeError!
```

**ì‚¬ìš©ì ì˜í–¥**: ğŸ”´ **Breaking Change** (ì—…ë°ì´íŠ¸ í•„ìˆ˜)

---

## 3.4 í…ŒìŠ¤íŠ¸ ì „ëµ

### 3.4.1 ì‹ ê·œ í…ŒìŠ¤íŠ¸: `tests/unit/test_public_api_imports.py`

```python
"""ê³µê°œ API import ê²½ë¡œ í…ŒìŠ¤íŠ¸"""
import pytest
import warnings


class TestPublicImports:
    """ê³µê°œ APIê°€ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€ ê²€ì¦"""
    
    def test_core_classes_import(self):
        """í•µì‹¬ í´ë˜ìŠ¤ import ê°€ëŠ¥"""
        from pykis import PyKis, KisAuth
        assert PyKis is not None
        assert KisAuth is not None
    
    def test_public_types_import(self):
        """ê³µê°œ íƒ€ì… import ê°€ëŠ¥"""
        from pykis import Quote, Balance, Order, Chart, Orderbook
        assert Quote is not None
        assert Balance is not None
        assert Order is not None
        assert Chart is not None
        assert Orderbook is not None
    
    def test_public_types_module_direct_import(self):
        """public_types ëª¨ë“ˆì—ì„œ ì§ì ‘ import ê°€ëŠ¥"""
        from pykis.public_types import Quote, Balance, Order
        assert Quote is not None
        assert Balance is not None
        assert Order is not None
    
    def test_deprecated_imports_warn(self):
        """Deprecated import ì‹œ ê²½ê³  ë°œìƒ"""
        with warnings.catch_warnings(record=True) as w:
            warnings.simplefilter("always")
            
            # âš ï¸ deprecated ê²½ë¡œ
            from pykis import KisObjectProtocol
            
            assert len(w) >= 1
            assert any(issubclass(x.category, DeprecationWarning) for x in w)
            assert any("deprecated" in str(x.message).lower() for x in w)
    
    def test_types_module_still_works(self):
        """types ëª¨ë“ˆì—ì„œ ì§ì ‘ importë„ ê°€ëŠ¥ (ê³ ê¸‰ ì‚¬ìš©ì)"""
        from pykis.types import KisObjectProtocol, KisMarketProtocol
        assert KisObjectProtocol is not None
        assert KisMarketProtocol is not None
    
    def test_backward_compatibility(self):
        """ê¸°ì¡´ ì½”ë“œ ê³„ì† ë™ì‘"""
        # v2.0.x ìŠ¤íƒ€ì¼ (ì—¬ì „íˆ ë™ì‘)
        with warnings.catch_warnings(record=True) as w:
            warnings.simplefilter("always")
            
            from pykis import PyKis
            from pykis import KisObjectProtocol  # deprecated
            
            assert PyKis is not None
            assert KisObjectProtocol is not None


class TestTypeConsistency:
    """ê°™ì€ íƒ€ì…ì´ ëª¨ë“  ê²½ë¡œì—ì„œ ë™ì¼í•œì§€ í™•ì¸"""
    
    def test_quote_type_consistency(self):
        """Quote íƒ€ì…ì´ ëª¨ë“  ê²½ë¡œì—ì„œ ë™ì¼"""
        from pykis import Quote as Q1
        from pykis.public_types import Quote as Q2
        
        assert Q1 is Q2
    
    def test_balance_type_consistency(self):
        """Balance íƒ€ì…ì´ ëª¨ë“  ê²½ë¡œì—ì„œ ë™ì¼"""
        from pykis import Balance as B1
        from pykis.public_types import Balance as B2
        
        assert B1 is B2


class TestPublicAPISize:
    """ê³µê°œ API í¬ê¸° í™•ì¸"""
    
    def test_public_api_exports_minimal(self):
        """ê³µê°œ APIê°€ 20ê°œ ì´í•˜"""
        from pykis import __all__
        
        assert len(__all__) <= 20, \
            f"ê³µê°œ API í•­ëª©ì´ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤ (í˜„ì¬: {len(__all__)}ê°œ, ëª©í‘œ: 20ê°œ ì´í•˜)"
    
    def test_public_api_contains_essentials(self):
        """ê³µê°œ APIì— í•„ìˆ˜ í•­ëª© í¬í•¨"""
        from pykis import __all__
        
        essentials = {"PyKis", "KisAuth", "Quote", "Balance", "Order"}
        assert essentials.issubset(set(__all__)), \
            f"í•„ìˆ˜ í•­ëª© ëˆ„ë½: {essentials - set(__all__)}"
```

### 3.4.2 ê¸°ì¡´ í…ŒìŠ¤íŠ¸ í˜¸í™˜ì„± ìœ ì§€

```python
# tests/unit/test_compatibility.py
"""ê¸°ì¡´ ì½”ë“œ í˜¸í™˜ì„± í™•ì¸"""
import warnings


def test_old_style_import_still_works():
    """v2.0.x ìŠ¤íƒ€ì¼ import ê³„ì† ë™ì‘"""
    with warnings.catch_warnings(record=True):
        warnings.simplefilter("always")
        
        # ì´ ì½”ë“œëŠ” ê³„ì† ë™ì‘í•´ì•¼ í•¨
        from pykis import (
            PyKis,
            KisAuth,
            Quote,
            Balance,
            Order,
            Chart,
            Orderbook,
        )
        
        assert PyKis is not None
        assert all([KisAuth, Quote, Balance, Order, Chart, Orderbook])
```

---

## 3.5 ë¡¤ì•„ì›ƒ ê³„íš

### 3.5.1 v2.2.0 (ê¶Œì¥)

```bash
# ë¦´ë¦¬ìŠ¤ ê³„íš
- public_types.py ì¶”ê°€
- __init__.py ë¦¬íŒ©í† ë§ (__getattr__ ì¶”ê°€)
- types.py ë¬¸ì„œ ì—…ë°ì´íŠ¸
- CHANGELOGì— Migration Guide ê¸°ì¬
- ì˜ˆì‹œ ì½”ë“œ ì—…ë°ì´íŠ¸
```

### 3.5.2 v2.3.0~v2.9.x (ìœ ì§€ë³´ìˆ˜)

```bash
# ê° ë¦´ë¦¬ìŠ¤ë§ˆë‹¤
- Deprecation Warning ê³„ì† í‘œì‹œ
- CHANGELOGì— ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒê¸°
- ì˜ˆì œ/ë¬¸ì„œì—ì„œ ì‹ ê·œ ë°©ì‹ ì‚¬ìš©
```

### 3.5.3 v3.0.0 (Breaking Change)

```bash
# Major ë²„ì „ ì—…ê·¸ë ˆì´ë“œ
- __getattr__ ì œê±°
- ê¸°ì¡´ import ê²½ë¡œ ì œê±°
- CHANGELOGì— ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ ìƒì„¸ ê¸°ì¬
```

---

## 3.6 ì˜ˆìƒ íš¨ê³¼

| í•­ëª© | í˜„ì¬ | ê°œì„  í›„ | íš¨ê³¼ |
|------|------|---------|------|
| **ê³µê°œ API í•­ëª©** | 154ê°œ | 15ê°œ | ğŸŸ¢ 89% ê°ì†Œ |
| **IDE ìë™ì™„ì„±** | ê¸´ ëª©ë¡ | ê°„ê²°í•¨ | ğŸŸ¢ ì‚¬ìš©ì„± ê°œì„  |
| **ì½”ë“œ maintenance** | 154ê°œ ìœ ì§€ | 15ê°œ + types.py ìœ ì§€ | ğŸŸ¢ ë¶€ë‹´ 80% ê°ì†Œ |
| **ë¬¸ì„œí™”** | í˜¼ë€ | ëª…í™• | ğŸŸ¢ ì´ˆë³´ì ì´í•´ë„ í–¥ìƒ |
| **ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ëŠ¥ì„±** | ë‚®ìŒ | ë†’ìŒ | ğŸŸ¢ ë¯¸ë˜ í™•ì¥ì„± ë³´ì¥ |

---

**ë‹¤ìŒ: [ì£¼ìš” ì´ìŠˆ ë° ê°œì„ ì‚¬í•­](#ì£¼ìš”-ì´ìŠˆ-ë°-ê°œì„ ì‚¬í•­)**


# ì„¹ì…˜ 4: ì‹¤í–‰ ê³„íš ë° ë¡œë“œë§µ

## 4.1 ì „ì²´ ë¡œë“œë§µ (6ê°œì›”)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Python-KIS ê°œì„  ë¡œë“œë§µ (6ê°œì›”)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Phase 1    â”‚   Phase 2    â”‚   Phase 3    â”‚   Phase 4      â”‚  Ongoing   â”‚
â”‚  (1ê°œì›”)     â”‚  (2ê°œì›”)     â”‚  (1ê°œì›”)     â”‚  (1ê°œì›”+)      â”‚  ìœ ì§€ë³´ìˆ˜  â”‚
â”‚  ê¸´ê¸‰ê°œì„     â”‚  í’ˆì§ˆí–¥ìƒ    â”‚  ì»¤ë®¤ë‹ˆí‹°    â”‚  ìƒíƒœê³„í™•ì¥    â”‚            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… ì¦‰ì‹œì‹œì‘   â”‚ ğŸ“Š ìë™í™”   â”‚ ğŸ“š íŠœí† ë¦¬ì–¼ â”‚ ğŸŒ ë‹¤êµ­ì–´      â”‚ ğŸ”„ ëª¨ë‹ˆí„°ë§â”‚
â”‚ ğŸ”´ ê¸´ê¸‰      â”‚ ğŸŸ¡ ì¤‘ìš”     â”‚ ğŸŸ¢ ì„ íƒ     â”‚ ğŸŸ¢ ì„ íƒ        â”‚ ğŸ“ˆ ì„±ì¥    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4.2 Phase 1: ê¸´ê¸‰ ê°œì„  (1ê°œì›”)

### ì£¼ê°„ë³„ ê³„íš

#### Week 1: ê³µê°œ API ì •ë¦¬ âœ… **ì™„ë£Œ** (2025-12-18)

**ëª©í‘œ**: 154ê°œ â†’ 20ê°œ ì´í•˜ë¡œ ì¶•ì†Œ

**í•  ì¼**:
- [x] `pykis/public_types.py` ìƒì„± (2ì‹œê°„) âœ…
- [x] `pykis/__init__.py` ë¦¬íŒ©í† ë§ (3ì‹œê°„) âœ…
- [x] `__getattr__` Deprecation ë©”ì»¤ë‹ˆì¦˜ êµ¬í˜„ (2ì‹œê°„) âœ…
- [ ] `pykis/types.py` ë¬¸ì„œ ì—…ë°ì´íŠ¸ (1ì‹œê°„)
- [x] í…ŒìŠ¤íŠ¸ ì‘ì„±: `test_public_api_imports.py` (2ì‹œê°„) âœ…
- [x] ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë° ê²€ì¦ (1ì‹œê°„) âœ… (831 passed, 93% coverage)

**ì‹¤ì œ ì†Œìš” ì‹œê°„**: 8ì‹œê°„
**ê²°ê³¼ë¬¼**: 
- âœ… public_types.py (TypeAlias 7ê°œ: Quote, Balance, Order, Chart, Orderbook, MarketType, TradingHours)
- âœ… ê°œì„ ëœ __init__.py (minimal public API + deprecation wrapper)
- âœ… í…ŒìŠ¤íŠ¸ (2ê°œ: test_public_api_imports.py)
- âœ… QUICKSTART.md (YAML config example í¬í•¨)
- âœ… hello_world.py ì˜ˆì œ
- âœ… Git commit & push (commit: 2f6721e)

---

#### Week 2: ë¹ ë¥¸ ì‹œì‘ ë¬¸ì„œ + ì˜ˆì œ ê¸°ì´ˆ (Deadline: 2026-01-01)

**ëª©í‘œ**: 5ë¶„ ë‚´ ì‹œì‘ ê°€ëŠ¥í•˜ë„ë¡

**í•  ì¼**:
- [ ] `QUICKSTART.md` ì‘ì„± (2ì‹œê°„)
  - 1. ì„¤ì¹˜
  - 2. ì¸ì¦ ì„¤ì •
  - 3. ì²« API í˜¸ì¶œ
  - 4. ë‹¤ìŒ ë‹¨ê³„
- [ ] `examples/01_basic/` í´ë” ìƒì„± (0.5ì‹œê°„)
- [ ] `examples/01_basic/hello_world.py` (1ì‹œê°„)
- [ ] `examples/01_basic/get_quote.py` (1ì‹œê°„)
- [ ] `examples/01_basic/get_balance.py` (1ì‹œê°„)
- [ ] `examples/01_basic/place_order.py` (1.5ì‹œê°„)
- [ ] `examples/01_basic/realtime_price.py` (1.5ì‹œê°„)
- [ ] ì˜ˆì œ README ì‘ì„± (1ì‹œê°„)

**ì†Œìš” ì‹œê°„**: 9.5ì‹œê°„
**ê²°ê³¼ë¬¼**:
- âœ… QUICKSTART.md
- âœ… 5ê°œ ê¸°ë³¸ ì˜ˆì œ + ìƒì„¸ ì£¼ì„
- âœ… README.md ìƒë‹¨ì— ë§í¬ ì¶”ê°€

---

#### Week 3: ì´ˆë³´ììš© Facade + Helpers (Deadline: 2026-01-08)

**ëª©í‘œ**: Protocol/Mixin ì—†ì´ë„ ì‚¬ìš© ê°€ëŠ¥

**í•  ì¼**:
- [ ] `pykis/simple.py` êµ¬í˜„ (4ì‹œê°„)
  - `SimpleKIS` í´ë˜ìŠ¤
  - `get_price()`
  - `get_balance()`
  - `place_order()` (ê¸°ë³¸)
- [ ] `pykis/helpers.py` êµ¬í˜„ (3ì‹œê°„)
  - `create_client()` - í™˜ê²½ë³€ìˆ˜/íŒŒì¼ ìë™ ë¡œë“œ
  - `save_config_interactive()` - ëŒ€í™”í˜• ì„¤ì •
  - `load_config()`
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± (3ì‹œê°„)
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ (WebSocket ì œì™¸) (2ì‹œê°„)

**ì†Œìš” ì‹œê°„**: 12ì‹œê°„
**ê²°ê³¼ë¬¼**:
- âœ… pykis/simple.py (Facade)
- âœ… pykis/helpers.py
- âœ… í…ŒìŠ¤íŠ¸ (15ê°œ+)

**í•  ì¼**:
- [ ] `tests/integration/` í´ë” ìƒì„± (0.5ì‹œê°„)
- [ ] `tests/integration/conftest.py` ì‘ì„± (2ì‹œê°„)

**ê²°ê³¼ë¬¼**:
- âœ… tests/integration/ êµ¬ì¡°
- âœ… 5ê°œ í†µí•© í…ŒìŠ¤íŠ¸
- âœ… Mock í‘œì¤€í™”

---
### Phase 1 ëª©í‘œ ë‹¬ì„± ì§€í‘œ

| ì§€í‘œ | ëª©í‘œ | ê²€ì¦ ë°©ë²• |
|------|------|----------|

---



**í•  ì¼**:
- [ ] `ARCHITECTURE.md` ìƒì„¸ ì‘ì„± (8ì‹œê°„)
- [ ] `CONTRIBUTING.md` ì‘ì„± (4ì‹œê°„)
- [ ] API Reference ìë™ ìƒì„± (2ì‹œê°„)
- [ ] ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ ì‘ì„± (2ì‹œê°„)
**ê²°ê³¼ë¬¼**:
- âœ… ìƒì„¸ ì•„í‚¤í…ì²˜ ë¬¸ì„œ
- âœ… ê¸°ì—¬ ê°€ì´ë“œ
- âœ… ë§ˆì´ê·¸ë ˆì´ì…˜ ë¬¸ì„œ
#### Month 2, Week 3-4: ì¤‘ê¸‰/ê³ ê¸‰ ì˜ˆì œ

**í•  ì¼**:
- [ ] ì˜ˆì œë³„ README (2ì‹œê°„)

**ê²°ê³¼ë¬¼**:

- [ ] GitHub Actions ì„¤ì • (4ì‹œê°„)
  - ìë™ í…ŒìŠ¤íŠ¸
  - ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸
  - ë°°í¬ ìë™í™”
- [ ] Pre-commit hooks ì„¤ì • (2ì‹œê°„)
- [ ] ì»¤ë²„ë¦¬ì§€ ë°°ì§€ ì¶”ê°€ (1ì‹œê°„)
- âœ… ìë™í™” íŒŒì´í”„ë¼ì¸
- âœ… ì»¤ë²„ë¦¬ì§€ ëª¨ë‹ˆí„°ë§
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ í™•ëŒ€ (5ê°œ â†’ 15ê°œ)
- [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì¶”ê°€ (5ê°œ)
- [ ] ì»¤ë²„ë¦¬ì§€ 90%+ ë‹¬ì„±
#### Week 1: ê³µê°œ API ì •ë¦¬ âœ… **ì™„ë£Œ** (2025-12-18)
- âœ… ì»¤ë²„ë¦¬ì§€ 90%+

---

- [ ] FAQ ì‘ì„± (2ì‹œê°„)

**ê²°ê³¼ë¬¼**:
## 4.5 Phase 4: ìƒíƒœê³„ í™•ì¥ (1ê°œì›”+)
**í•  ì¼**:
- [ ] ë‹¤êµ­ì–´ ë¬¸ì„œ í™•ëŒ€ (ì¤‘ë¬¸, ì¼ë¬¸)
- [ ] API ì•ˆì •ì„± ì •ì±… ë¬¸ì„œí™”
- [ ] ì„±ëŠ¥ ìµœì í™”
- [ ] ì¶”ê°€ ì‹œì¥ ì§€ì› (ì„ ë¬¼/ì˜µì…˜)

- âœ… ê¸€ë¡œë²Œ ë¬¸ì„œ
- âœ… ì„±ëŠ¥ ê°œì„ 

---
| **ê³µê°œ API** | 154ê°œ | 20ê°œ | 20ê°œ | 15ê°œ | `pykis.__all__` í¬ê¸° |
| **ë¬¸ì„œ** | 6ê°œ | 8ê°œ | 12ê°œ | 15ê°œ | ë¬¸ì„œ íŒŒì¼ ìˆ˜ |
| **ì˜ˆì œ** | 0ê°œ | 5ê°œ | 13ê°œ | 18ê°œ | examples/ íŒŒì¼ ìˆ˜ |


| ì§€í‘œ | ëª©í‘œ | ê²€ì¦ ë°©ë²• |
|------|------|----------|
| **ì‹ ê·œ ì‚¬ìš©ì ë§Œì¡±ë„** | 4.5/5.0 | Survey |
| **ì˜¨ë³´ë”© ì„±ê³µë¥ ** | 80% | ì¶”ì  |
| **ê¸°ì—¬ì ìˆ˜** | 2ë°° ì¦ê°€ | PR ì¶”ì  |

---

## 4.7 ìœ„í—˜ ê´€ë¦¬

|------|------|------|----------|
| **í•˜ìœ„ í˜¸í™˜ì„± ê¹¨ì§** | ì¤‘ê°„ | ë†’ìŒ | Deprecation ê²½ê³  2 ë¦´ë¦¬ìŠ¤ ìœ ì§€ |
| **ë¬¸ì„œ ì‘ì„± ë¶€ë‹´** | ì¤‘ê°„ | ì¤‘ê°„ | ì»¤ë®¤ë‹ˆí‹° ê¸°ì—¬ í™œìš© |
| **ì»¤ë®¤ë‹ˆí‹° ë°˜ë°œ** | ë‚®ìŒ | ë‚®ìŒ | ê¸°ì¡´ import ê²½ë¡œ ìœ ì§€ (deprecated) |

---

**ë‹¤ìŒ: [PlantUML ê³„íš](#plantuml-ê³„íš)**



**íŒŒì¼**: `docs/diagrams/architecture_layers.puml`

**ëª©í‘œ**: Python-KISì˜ 7ê³„ì¸µ ì•„í‚¤í…ì²˜ë¥¼ ì‹œê°í™”

```puml
!define GOOD_COLOR #51CF66
!define WARN_COLOR #FFA94D

title Python-KIS ê³„ì¸µí™” ì•„í‚¤í…ì²˜

rectangle "Scope Layer\n(API ì§„ì…ì )" as SCOPE #GOOD_COLOR
rectangle "Adapter Layer\n(Mixin, ê¸°ëŠ¥ í™•ì¥)" as ADAPTER #FFA94D
rectangle "API Layer\n(REST/WebSocket)" as API #GOOD_COLOR
rectangle "Utility Layer\n(Rate Limit, Thread Safe)" as UTIL #GOOD_COLOR

APP --> SCOPE
SCOPE --> ADAPTER
ADAPTER --> API
note right of APP
  kis = PyKis(...)
  quote = kis.stock("005930").quote()
end note

note right of SCOPE
  KisAccount
  KisStock
  KisStockScope
end note

note right of ADAPTER
  KisQuotableAccount
  KisOrderableAccount
  (Mixin íŒ¨í„´)
end note

note right of API
  api.account.*
  api.stock.*
  api.websocket.*
end note

note right of CLIENT
  KisAuth (ì¸ì¦)
  HTTP ìš”ì²­/ì‘ë‹µ
  WebSocket ì—°ê²°
end note

note right of RESPONSE
  KisDynamic (ë™ì  ë³€í™˜)
  Type Hint ìƒì„±
  ìë™ ë§¤í•‘
end note

note right of UTIL
  Rate Limiting
  Thread Safety
  Exception Handling
end note

@enduml
```

---

### 5.1.2 ê³µê°œ íƒ€ì… ë¶„ë¦¬ ë‹¤ì´ì–´ê·¸ë¨

**íŒŒì¼**: `docs/diagrams/type_separation.puml`

**ëª©í‘œ**: í˜„ì¬ vs ê°œì„  í›„ íƒ€ì… ë¶„ë¦¬ êµ¬ì¡°

```puml
@startuml type_separation
title ê³µê°œ íƒ€ì… ëª¨ë“ˆ ë¶„ë¦¬ (í˜„ì¬ vs ê°œì„ )

' í˜„ì¬ ìƒíƒœ
package "í˜„ì¬ (v2.1.7)" #FFB6C1 {
  file "__init__.py" {
    circle "154ê°œ\n(í˜¼ë€)" as NOW_INIT
  }
  file "types.py" {
    circle "154ê°œ\n(ì¤‘ë³µ)" as NOW_TYPES
  }
  NOW_INIT -.->  NOW_TYPES: ë™ì¼ ë‚´ìš©
}

' ê°œì„  í›„
package "ê°œì„  (v2.2.0+)" #C8E6C9 {
  file "public_types.py" {
    circle "7ê°œ\n(ê³µê°œ íƒ€ì…)\nQuote\nBalance\nOrder\nChart\nOrderbook\nMarketInfo\nTradingHours" as NEW_PUBLIC
  }
  file "__init__.py" {
    circle "15ê°œ\n(ê³µê°œ API)\nPyKis\nKisAuth\n+ 7ê°œ íƒ€ì…\n+ Helper 3ê°œ" as NEW_INIT
  }
  file "types.py" {
    circle "ëª¨ë“  Protocol\n(ê³ ê¸‰ ì‚¬ìš©ì)" as NEW_TYPES
  }
  file "adapter/*.py" {
    circle "Mixin\n(ë‚´ë¶€ êµ¬í˜„)" as NEW_ADAPTER
  }
  
  NEW_INIT -.->|ì¬export| NEW_PUBLIC
  NEW_TYPES -.->|ê³ ê¸‰ ì‚¬ìš©ì| NEW_ADAPTER
}

legend
  |<#C8E6C9> ê°œì„  (â†“ 154 â†’ 15) |
  |<#FFB6C1> í˜„ì¬ (ì¤‘ë³µ, í˜¼ë€) |
end legend

@enduml
```

---

### 5.1.3 ë§ˆì´ê·¸ë ˆì´ì…˜ íƒ€ì„ë¼ì¸ ë‹¤ì´ì–´ê·¸ë¨

**íŒŒì¼**: `docs/diagrams/migration_timeline.puml`

**ëª©í‘œ**: v2.2.0 â†’ v3.0.0 ë§ˆì´ê·¸ë ˆì´ì…˜ ê³„íš

```puml
@startuml migration_timeline
title Python-KIS ë§ˆì´ê·¸ë ˆì´ì…˜ íƒ€ì„ë¼ì¸ (3ë‹¨ê³„)

' Phase 1: v2.2.0
node "Phase 1: v2.2.0\n(2025-12)" #C8E6C9 {
  circle "public_types.py\nìƒì„±"
  circle "__init__.py\në¦¬íŒ©í† ë§"
  circle "__getattr__\nì¶”ê°€"
  circle "í•˜ìœ„í˜¸í™˜ì„±\n100% ìœ ì§€"
}

' Phase 2: v2.3.0~v2.9.x
node "Phase 2: v2.3.0~v2.9.x\n(2026-01~06)" #FFF59D {
  circle "DeprecationWarning\nê³„ì† í‘œì‹œ"
  circle "ìƒˆ ì½”ë“œ ê¶Œì¥"
  circle "ê¸°ì¡´ ì½”ë“œ ë™ì‘"
  circle "ë§ˆì´ê·¸ë ˆì´ì…˜\nê°€ì´ë“œ"
}

' Phase 3: v3.0.0
node "Phase 3: v3.0.0\n(2026-06+)" #FFCDD2 {
  circle "__getattr__\nì œê±°"
  circle "Deprecated\nê²½ë¡œ ì‚­ì œ"
  circle "Breaking\nChange"
}

Phase1 --> Phase2: 2-3 ë¦´ë¦¬ìŠ¤
Phase2 --> Phase3: 6ê°œì›”

note right of Phase1
  ê¸°ì¡´ ì½”ë“œ: ê³„ì† ë™ì‘
  ì‹ ê·œ ì½”ë“œ: ê¶Œì¥ ê²½ë¡œ ì‚¬ìš©
end note

note right of Phase2
  âš ï¸ ê²½ê³ ë§Œ í‘œì‹œ
  ê¸°ëŠ¥ì€ ê·¸ëŒ€ë¡œ
end note

note right of Phase3
  âŒ ê¸°ì¡´ ê²½ë¡œ ì‘ë™ ë¶ˆê°€
  âœ… ìƒˆ ê²½ë¡œë§Œ ë™ì‘
end note

@enduml
```

---

### 5.1.4 í…ŒìŠ¤íŠ¸ ì „ëµ ë‹¤ì´ì–´ê·¸ë¨

**íŒŒì¼**: `docs/diagrams/test_strategy.puml`

**ëª©í‘œ**: ë‹¨ìœ„ vs í†µí•© vs ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì „ëµ

```puml
@startuml test_strategy
title Python-KIS í…ŒìŠ¤íŠ¸ ì „ëµ (í˜„ì¬ vs ëª©í‘œ)

rectangle "í…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ" {
  
  ' í˜„ì¬ ìƒíƒœ
  package "Current (94%)" #FFE0B2 {
    rectangle "ì„±ëŠ¥ í…ŒìŠ¤íŠ¸\n35 tests (5%)" as PERF_NOW #FFB6B6
    rectangle "í†µí•© í…ŒìŠ¤íŠ¸\n25 tests (3%)" as INTEG_NOW #FFD6A5
    rectangle "ë‹¨ìœ„ í…ŒìŠ¤íŠ¸\n840 tests (92%)" as UNIT_NOW #C8E6C9
  }
  
  ' ëª©í‘œ ìƒíƒœ
  package "Target (90%+)" #E0BBE4 {
    rectangle "ì„±ëŠ¥ í…ŒìŠ¤íŠ¸\n50 tests (5%)" as PERF_TARGET #E0BBE4
    rectangle "í†µí•© í…ŒìŠ¤íŠ¸\n150 tests (15%)" as INTEG_TARGET #D4A5E8
    rectangle "ë‹¨ìœ„ í…ŒìŠ¤íŠ¸\n800+ tests (80%)" as UNIT_TARGET #B19CD9
  }
}

legend
  |<#C8E6C9> ë‹¨ìœ„ (ì•ˆì •ì„±) |
  |<#D4A5E8> í†µí•© (ì‹ ë¢°ì„±) |
  |<#E0BBE4> ì„±ëŠ¥ (í™•ì¥ì„±) |
end legend

@enduml
```

---

### 5.1.5 ê³µê°œ API í¬ê¸° ë¹„êµ ë‹¤ì´ì–´ê·¸ë¨

**íŒŒì¼**: `docs/diagrams/api_size_comparison.puml`

**ëª©í‘œ**: 154ê°œ â†’ 20ê°œ ì¶•ì†Œ ì‹œê°í™”

```puml
@startuml api_size_comparison
title ê³µê°œ API í¬ê¸° ê°œì„  (154ê°œ â†’ 20ê°œ)

left to right direction

' í˜„ì¬
rectangle "í˜„ì¬\n154ê°œ export" as NOW {
  rectangle "í•µì‹¬\n2ê°œ\n(PyKis\nKisAuth)" as NOW_CORE
  rectangle "Protocol\n30ê°œ" as NOW_PROTO
  rectangle "Adapter\n40ê°œ" as NOW_ADAPTER  
  rectangle "ê¸°íƒ€\n82ê°œ" as NOW_OTHER
}

' ê°œì„  í›„
rectangle "ê°œì„  í›„\n20ê°œ export" as IMPROVED {
  rectangle "í•µì‹¬\n2ê°œ\n(PyKis\nKisAuth)" as IMPR_CORE
  rectangle "ê³µê°œ íƒ€ì…\n7ê°œ\n(Quote, Balance\nOrder, Chart\nOrderbook\nMarketInfo\nTradingHours)" as IMPR_TYPES
  rectangle "Helper\n3ê°œ\n(SimpleKIS\ncreate_client\nsave_config)" as IMPR_HELPER
  rectangle "ì˜ˆë¹„\n8ê°œ" as IMPR_RESERVE
}

NOW_CORE -.->|ë³€ê²½ì—†ìŒ| IMPR_CORE
NOW_PROTO -.->|types.pyë¡œ| ì œê±°
NOW_ADAPTER -.->|adapter/*.pyë¡œ| ì œê±°
NOW_OTHER -.->|ë‚´ë¶€í™”| ì œê±°

@enduml
```

---

## 5.2 PlantUML ì‘ì—… í• ì¼ ëª©ë¡

| ìˆœë²ˆ | ë‹¤ì´ì–´ê·¸ë¨ | íŒŒì¼ | ìƒíƒœ | ìš°ì„ ìˆœìœ„ | ì˜ˆìƒ ì‹œê°„ |
|------|----------|------|------|---------|---------|
| 1 | ì•„í‚¤í…ì²˜ ê³„ì¸µ | `architecture_layers.puml` | â³ ê³„íš | ğŸ”´ ë†’ìŒ | 1ì‹œê°„ |
| 2 | ê³µê°œ íƒ€ì… ë¶„ë¦¬ | `type_separation.puml` | â³ ê³„íš | ğŸ”´ ë†’ìŒ | 1ì‹œê°„ |
| 3 | ë§ˆì´ê·¸ë ˆì´ì…˜ íƒ€ì„ë¼ì¸ | `migration_timeline.puml` | â³ ê³„íš | ğŸŸ¡ ì¤‘ê°„ | 1ì‹œê°„ |
| 4 | í…ŒìŠ¤íŠ¸ ì „ëµ | `test_strategy.puml` | â³ ê³„íš | ğŸŸ¡ ì¤‘ê°„ | 1ì‹œê°„ |
| 5 | API í¬ê¸° ë¹„êµ | `api_size_comparison.puml` | â³ ê³„íš | ğŸŸ¡ ì¤‘ê°„ | 1ì‹œê°„ |
| 6 | ë°ì´í„° íë¦„ë„ | `data_flow.puml` | â³ ê³„íš | ğŸŸ¢ ë‚®ìŒ | 1.5ì‹œê°„ |
| 7 | ì˜ì¡´ì„± ê·¸ë˜í”„ | `dependencies.puml` | â³ ê³„íš | ğŸŸ¢ ë‚®ìŒ | 1.5ì‹œê°„ |
| 8 | ë°°í¬ íŒŒì´í”„ë¼ì¸ | `deployment_pipeline.puml` | â³ ê³„íš | ğŸŸ¢ ë‚®ìŒ | 1.5ì‹œê°„ |

**ì´ ì˜ˆìƒ ì‹œê°„**: 10ì‹œê°„

---

## 5.3 PlantUML ìƒì„± ë° ë°°í¬ ë°©ë²•

### 5.3.1 ë¡œì»¬ ìƒì„± (ê°œë°œììš©)

```bash
# 1. PlantUML ì„¤ì¹˜
pip install plantuml

# 2. .puml íŒŒì¼ ìƒì„±
plantuml -Tpng docs/diagrams/architecture_layers.puml

# 3. PNG ìƒì„±ë¨
ls docs/diagrams/architecture_layers.png
```

### 5.3.2 ì˜¨ë¼ì¸ ë Œë”ë§ (ë¬¸ì„œìš©)

```markdown
# Markdownì— PlantUML ë‹¤ì´ì–´ê·¸ë¨ ì„ë² ë“œ

![ì•„í‚¤í…ì²˜](https://www.plantuml.com/plantuml/img/xxxxxx)

ë˜ëŠ” GitHubì—ì„œ ì§ì ‘ .puml íŒŒì¼ í‘œì‹œ ì§€ì›
```

### 5.3.3 CI/CD ìë™í™” (í–¥í›„)

```yaml
# .github/workflows/generate-diagrams.yml
name: Generate PlantUML Diagrams

on: [push]

jobs:
  generate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Generate PlantUML
        uses: grassedge/generate-plantuml-action@v11
        with:
          path: docs/diagrams
          format: png
      - name: Commit & Push
        run: |
          git add docs/diagrams/*.png
          git commit -m "ğŸ“Š Update PlantUML diagrams"
          git push
```

---

## 5.4 PlantUML ì¶”ê°€ ë¦¬ì†ŒìŠ¤

### ì°¸ê³  ë¬¸ì„œ
- PlantUML ê³µì‹: https://plantuml.com
- C4 Model ë‹¤ì´ì–´ê·¸ë¨: https://c4model.com
- ì˜ˆì œ ëª¨ìŒ: https://github.com/plantuml-stdlib

### ì¶”ì²œ ë„êµ¬
- **PlantUML Online Editor**: https://www.plantuml.com/plantuml/uml/
- **Visual Studio Code Extension**: `jebbs.plantuml`
- **GitHub Integration**: ìë™ ë Œë”ë§ ì§€ì›

---

**ë‹¤ìŒ: [ê²°ë¡  ë° ê¶Œì¥ì‚¬í•­](#ê²°ë¡ -ë°-ê¶Œì¥ì‚¬í•­)**


# ì„¹ì…˜ 6: ê²°ë¡  ë° ê¶Œì¥ì‚¬í•­

## 6.1 ì¢…í•© í‰ê°€

### 6.1.1 í”„ë¡œì íŠ¸ ì „ì²´ í‰ê°€

**Python-KIS**ëŠ” **ê²¬ê³ í•œ ì•„í‚¤í…ì²˜**ì™€ **ìš°ìˆ˜í•œ íƒ€ì… ì•ˆì „ì„±**ì„ ê°–ì¶˜ ê³ í’ˆì§ˆ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.

| ì˜ì—­ | í‰ê°€ | ì ìˆ˜ |
|------|------|------|
| **ì•„í‚¤í…ì²˜** | ğŸŸ¢ ìš°ìˆ˜ | 4.5/5.0 |
| **íƒ€ì… ì•ˆì „ì„±** | ğŸŸ¢ ì™„ë²½ | 5.0/5.0 |
| **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€** | ğŸŸ¢ ìš°ìˆ˜ | 4.5/5.0 |
| **ë¬¸ì„œí™”** | ğŸŸ¡ ì–‘í˜¸ | 4.0/5.0 |
| **ì‚¬ìš©ì„±** | ğŸŸ¡ ê°œì„  í•„ìš” | 3.0/5.0 |
| **ê³µê°œ API** | ğŸ”´ í˜¼ë€ | 2.0/5.0 |

**ì¢…í•©**: ğŸŸ¢ **4.0/5.0 - ì¢‹ìŒ (ê°œì„  ê°€ëŠ¥)**

---

### 6.1.2 ê°•ì  (ìœ ì§€í•  ì ) âœ…

1. **Protocol ê¸°ë°˜ ì•„í‚¤í…ì²˜** (4.5/5.0)
   - êµ¬ì¡°ì  ì„œë¸Œíƒ€ì´í•‘ìœ¼ë¡œ ë• íƒ€ì´í•‘ ì§€ì›
   - ë†’ì€ í™•ì¥ì„±ê³¼ ìœ ì—°ì„±
   - IDE ìë™ì™„ì„± ì™„ë²½ ì§€ì›

2. **íƒ€ì… ì•ˆì „ì„±** (5.0/5.0)
   - 100% Type Hint ì ìš©
   - ëŸ°íƒ€ì„ íƒ€ì… ì²´í¬ ê°€ëŠ¥
   - ë¦¬íŒ©í† ë§ ì•ˆì „

3. **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€** (94%)
   - ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ 840ê°œ
   - ëª©í‘œ 80%+ ì´ˆê³¼ë‹¬ì„±
   - ì•ˆì •ì ì¸ í’ˆì§ˆ ë³´ì¦

4. **ì•ˆì •ì ì¸ ì˜ì¡´ì„±**
   - 7ê°œë§Œ í”„ë¡œë•ì…˜ ì˜ì¡´ì„±
   - ëª¨ë‘ Permissive ë¼ì´ì„¼ìŠ¤
   - ìƒìš© ì‚¬ìš© ê°€ëŠ¥

---

### 6.1.3 ì•½ì  (ê°œì„ í•  ì ) âš ï¸

| ìˆœë²ˆ | ë¬¸ì œ | ì‹¬ê°ë„ | ì˜í–¥ | ê°œì„  ì‹œê°„ |
|-----|------|--------|------|----------|
| 1 | ê³µê°œ API 154ê°œ | ğŸ”´ ê¸´ê¸‰ | ì´ˆë³´ì í˜¼ë€ | 1ì£¼ |
| 2 | types.py ì¤‘ë³µ | ğŸ”´ ê¸´ê¸‰ | ìœ ì§€ë³´ìˆ˜ ë¶€ë‹´ | 1ì£¼ |
| 3 | QUICKSTART ë¶€ì¬ | ğŸ”´ ê¸´ê¸‰ | 5ë¶„ ì‹œì‘ ë¶ˆê°€ | 2ì‹œê°„ |
| 4 | ì˜ˆì œ ì½”ë“œ ë¶€ì¬ | ğŸŸ¡ ë†’ìŒ | í•™ìŠµ ì–´ë ¤ì›€ | 1ì£¼ |
| 5 | í†µí•© í…ŒìŠ¤íŠ¸ ë¶€ì¡± | ğŸŸ¡ ë†’ìŒ | ì‹œë‚˜ë¦¬ì˜¤ ê²€ì¦ ë¶€ì¬ | 1ì£¼ |
| 6 | Protocol ì´í•´ í•„ìš” | ğŸŸ¡ ë†’ìŒ | ì§„ì… ì¥ë²½ ë†’ìŒ | 2ì£¼ |

---

## 6.2 ì¦‰ì‹œ ì‹¤í–‰ ê¶Œì¥ì‚¬í•­ (Top 5)

### 1ï¸âƒ£ **ê³µê°œ íƒ€ì… ëª¨ë“ˆ ë¶„ë¦¬** (ê¸´ê¸‰, 1ì£¼)

**í˜„ì¬**: `from pykis import KisObjectProtocol` â† 154ê°œ ì¤‘ ë‚´ë¶€ êµ¬í˜„

**ê°œì„ **: `from pykis import Quote, Balance` â† 7ê°œë§Œ ê³µê°œ íƒ€ì…

**ê¸°ëŒ€ íš¨ê³¼**:
- ğŸŸ¢ IDE ìë™ì™„ì„± ê°„ê²°í™”
- ğŸŸ¢ ê³µê°œ API ë²”ìœ„ ëª…í™•í™”
- ğŸŸ¢ í•˜ìœ„ í˜¸í™˜ì„± 100% ìœ ì§€

**ì‹¤í–‰ ê³„íš**:
```bash
Week 1:
â”œâ”€ public_types.py ìƒì„± (2ì‹œê°„)
â”œâ”€ __init__.py ë¦¬íŒ©í† ë§ (3ì‹œê°„)
â”œâ”€ í…ŒìŠ¤íŠ¸ ì‘ì„± (2ì‹œê°„)
â””â”€ ì „ì²´ ê²€ì¦ (1ì‹œê°„)

Total: 8ì‹œê°„
```

---

### 2ï¸âƒ£ **ë¹ ë¥¸ ì‹œì‘ ë¬¸ì„œ ì‘ì„±** (ê¸´ê¸‰, 2ì‹œê°„)

**ëª©í‘œ**: 5ë¶„ ë‚´ `kis.stock("005930").quote()` í˜¸ì¶œ

**ë‚´ìš©**:
```markdown
1. ì„¤ì¹˜: pip install python-kis (1ë¶„)
2. ì¸ì¦: í™˜ê²½ë³€ìˆ˜ ë˜ëŠ” íŒŒì¼ (2ë¶„)
3. ì½”ë“œ: 3ì¤„ (2ë¶„)
```

**ê¸°ëŒ€ íš¨ê³¼**:
- ğŸŸ¢ ì‹ ê·œ ì‚¬ìš©ì ì´íƒˆë¥  ê°ì†Œ
- ğŸŸ¢ ë¬¸ì˜ 50% ê°ì†Œ
- ğŸŸ¢ GitHub README í´ë¦­ë¥  ì¦ê°€

---

### 3ï¸âƒ£ **ê¸°ë³¸ ì˜ˆì œ 5ê°œ** (ë†’ìŒ, 1ì£¼)

**ì˜ˆì œ**:
- `hello_world.py` - ê°€ì¥ ê¸°ë³¸
- `get_quote.py` - ì‹œì„¸ ì¡°íšŒ
- `get_balance.py` - ì”ê³  ì¡°íšŒ
- `place_order.py` - ì£¼ë¬¸
- `realtime_price.py` - WebSocket

**ê¸°ëŒ€ íš¨ê³¼**:
- ğŸŸ¢ í•™ìŠµ ê³¡ì„  ì™„í™”
- ğŸŸ¢ ë³µì‚¬-ë¶™ì—¬ë„£ê¸° ê°€ëŠ¥
- ğŸŸ¢ ì‹ ë¢°ì„± ì¦ê°€

---

### 4ï¸âƒ£ **ì´ˆë³´ì Facade êµ¬í˜„** (ë†’ìŒ, 1ì£¼)

**ì½”ë“œ**:
```python
from pykis.simple import SimpleKIS

kis = SimpleKIS(id="ID", account="ACCOUNT", 
                appkey="KEY", secretkey="SECRET")

# Protocol/Mixin ì—†ì´ë„ ì‚¬ìš© ê°€ëŠ¥
price_dict = kis.get_price("005930")  # {'name': 'ì‚¼ì„±ì „ì', 'price': 65000, ...}
```

**ê¸°ëŒ€ íš¨ê³¼**:
- ğŸŸ¢ Protocol/Mixin ì´í•´ ë¶ˆí•„ìš”
- ğŸŸ¢ ë”•ì…”ë„ˆë¦¬ ê¸°ë°˜ ì§ê´€ì  ì‚¬ìš©
- ğŸŸ¢ ì´ˆë³´ì ì§„ì… ì¥ë²½ 50% ê°ì†Œ

---

### 5ï¸âƒ£ **í†µí•© í…ŒìŠ¤íŠ¸ ê¸°ì´ˆ** (ë†’ìŒ, 1ì£¼)

**ëª©í‘œ**: ì „ì²´ API í”Œë¡œìš° ê²€ì¦

**í…ŒìŠ¤íŠ¸**:
- ì£¼ë¬¸ ì „ì²´ í”Œë¡œìš°
- ì”ê³  ì¡°íšŒ
- WebSocket ì¬ì—°ê²°
- ì˜ˆì™¸ ì²˜ë¦¬

**ê¸°ëŒ€ íš¨ê³¼**:
- ğŸŸ¢ ì‹¤ì œ ì‹œë‚˜ë¦¬ì˜¤ ê²€ì¦
- ğŸŸ¢ API ë³€ê²½ ê°ì§€
- ğŸŸ¢ ë°°í¬ ì‹ ë¢°ì„± í–¥ìƒ

---

## 6.3 3ë‹¨ê³„ ë§ˆì´ê·¸ë ˆì´ì…˜ ê²½ë¡œ

### Phase 1: ì¦‰ì‹œ (v2.2.0, 2025-12ì›”)

**Breaking Change**: âŒ ì—†ìŒ
**ê¸°ì¡´ ì½”ë“œ**: âœ… ê³„ì† ë™ì‘

```python
# ê¸°ì¡´ ì½”ë“œ (ê³„ì† ë™ì‘)
from pykis import PyKis, KisObjectProtocol
kis = PyKis(...)

# ìƒˆë¡œìš´ ì½”ë“œ (ê¶Œì¥)
from pykis import PyKis, Quote, Balance
```

---

### Phase 2: ì „í™˜ ê¸°ê°„ (v2.3.0~v2.9.x, 2026-01~06ì›”)

**Breaking Change**: âš ï¸ ê²½ê³ ë§Œ
**ê¸°ì¡´ ì½”ë“œ**: âœ… ë™ì‘ (Deprecation ê²½ê³ )

```python
# ê¸°ì¡´ ì½”ë“œ (ê²½ê³  í‘œì‹œ)
from pykis import KisObjectProtocol
âš ï¸ DeprecationWarning: ... v3.0.0ì—ì„œ ì œê±°ë  ì˜ˆì •ì…ë‹ˆë‹¤.

# ìƒˆë¡œìš´ ì½”ë“œ (ê¶Œì¥)
from pykis.types import KisObjectProtocol
```

---

### Phase 3: ì •ë¦¬ (v3.0.0, 2026-06ì›”+)

**Breaking Change**: ğŸ”´ ìˆìŒ
**ê¸°ì¡´ ì½”ë“œ**: âŒ ì‘ë™ ë¶ˆê°€

```python
# ê¸°ì¡´ ì½”ë“œ (ì‘ë™ ë¶ˆê°€)
from pykis import KisObjectProtocol  âŒ AttributeError!

# ìœ ì¼í•œ ë°©ë²•
from pykis.types import KisObjectProtocol  âœ… OK
from pykis.adapter.* import ...             âœ… OK
```

---

## 6.4 ì„±ê³µ ì§€í‘œ (6ê°œì›” ëª©í‘œ)

### ì •ëŸ‰ì  ì§€í‘œ

| ì§€í‘œ | í˜„ì¬ | 1ê°œì›” | 3ê°œì›” | 6ê°œì›” | ê²€ì¦ ë°©ë²• |
|------|------|---------|---------|---------|----------|
| ê³µê°œ API | 154ê°œ | 20ê°œ | 20ê°œ | 15ê°œ | `len(__all__)` |
| ë¬¸ì„œ | 6ê°œ | 8ê°œ | 12ê°œ | 15ê°œ | íŒŒì¼ ìˆ˜ |
| ì˜ˆì œ | 0ê°œ | 5ê°œ | 13ê°œ | 18ê°œ | examples/ |
| í…ŒìŠ¤íŠ¸ | 840 | 850 | 880 | 900 | pytest |
| ì»¤ë²„ë¦¬ì§€ | 94% | 94% | 90%+ | 92%+ | coverage |
| GitHub â­ | - | +5% | +25% | +50% | GitHub API |

### ì •ì„±ì  ì§€í‘œ

| ì§€í‘œ | ëª©í‘œ | ê²€ì¦ ë°©ë²• |
|------|------|----------|
| **ì‹ ê·œ ì‚¬ìš©ì ë§Œì¡±ë„** | 4.5/5.0 ì´ìƒ | ì„¤ë¬¸ì¡°ì‚¬ |
| **ì˜¨ë³´ë”© ì„±ê³µë¥ ** | 80% ì´ìƒ | ì¶”ì  |
| **ê¸°ì—¬ì ìˆ˜** | 2ë°° ì¦ê°€ | PR ì¶”ì  |
| **ì»¤ë®¤ë‹ˆí‹° í™œë™** | ì£¼ 2ê°œ ì´ìƒ | ì´ìŠˆ/í† ë¡  |
| **ë¬¸ì˜ ê°ì†Œ** | 30% ê°ì†Œ | Issues ì¶”ì  |

---

## 6.5 ì¶”ì²œ ì‹¤í–‰ ìˆœì„œ

### ğŸ¯ ìµœìš°ì„  (ì´ ë‹¬)

1. **ê³µê°œ íƒ€ì… ë¶„ë¦¬** â† ëª¨ë“  ê°œì„ ì˜ ê¸°ì´ˆ
2. **QUICKSTART.md ì‘ì„±** â† ì‹ ê·œ ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
3. **5ê°œ ê¸°ë³¸ ì˜ˆì œ** â† í•™ìŠµ ìë£Œ ì œê³µ

### â° 1ê°œì›” ì•ˆì—

4. **ì´ˆë³´ì Facade** (SimpleKIS)
5. **í†µí•© í…ŒìŠ¤íŠ¸ ê¸°ì´ˆ**
6. **ê³ ê¸‰ ë¬¸ì„œ** (ARCHITECTURE.md)

### ğŸ“… 2-3ê°œì›” ì•ˆì—

7. **CI/CD íŒŒì´í”„ë¼ì¸**
8. **ì¤‘ê¸‰/ê³ ê¸‰ ì˜ˆì œ** í™•ëŒ€
9. **ì»¤ë²„ë¦¬ì§€ 90%+**

### ğŸŒŸ 6ê°œì›” ëª©í‘œ

10. **ì»¤ë®¤ë‹ˆí‹° ìë£Œ** (íŠœí† ë¦¬ì–¼, ì˜ë¬¸ ë¬¸ì„œ ë“±)

---

## 6.6 í•µì‹¬ ë©”ì‹œì§€

> ### "Protocolê³¼ Mixinì€ ë‚´ë¶€ êµ¬í˜„ì˜ ìš°ì•„í•¨ì…ë‹ˆë‹¤"
> 
> **ì‚¬ìš©ìëŠ” ì´ê²ƒì„ ì „í˜€ ëª°ë¼ë„ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.**

### í˜„ì¬ ìƒí™©
```
[ ì‚¬ìš©ì ê²½í—˜ ]
Protocol/Mixin ì´í•´ í•„ìš” â†’ ì§„ì… ì¥ë²½ ë†’ìŒ â†’ ì´ˆë³´ì ì´íƒˆ
```

### ê°œì„  í›„
```
[ ì‚¬ìš©ì ê²½í—˜ ]
5ë¶„ ë¹ ë¥¸ ì‹œì‘ â†’ ì˜ˆì œ í•™ìŠµ â†’ SimpleKIS ì‚¬ìš© â†’ ì ì§„ì  ê³ ë„í™”
```

---

## 6.7 ìµœì¢… ê¶Œê³ 

### ë¦¬ì†ŒìŠ¤ í• ë‹¹

| ì—­í•  | íˆ¬ì… | ê¸°ê°„ |
|------|------|------|
| **ì£¼ ê°œë°œì** | 1ëª… | 1ê°œì›” (Phase 1) |
| **í…ŒìŠ¤íŠ¸/QA** | 0.5ëª… | 2ê°œì›” |
| **ë¬¸ì„œí™”** | 0.5ëª… | 3ê°œì›” |
| **ì»¤ë®¤ë‹ˆí‹°** | ìë™í™” | ì§€ì† |

### íˆ¬ì ëŒ€ë¹„ íš¨ê³¼

| íˆ¬ì… | ê¸°ëŒ€ íš¨ê³¼ |
|------|----------|
| 40ì‹œê°„ (Phase 1) | ğŸŸ¢ ì‹ ê·œ ì‚¬ìš©ì 50% ì¦ê°€ |
| 80ì‹œê°„ (3ê°œì›”) | ğŸŸ¢ ê¸°ì—¬ì 2ë°°, ì´ìŠˆ 30% ê°ì†Œ |
| 120ì‹œê°„ (6ê°œì›”) | ğŸŸ¢ ì»¤ë®¤ë‹ˆí‹° ìƒíƒœê³„ êµ¬ì¶• |

### ì˜ì‚¬ê²°ì • ê¸°ì¤€

| í•­ëª© | ê¶Œì¥ | ì´ìœ  |
|------|------|------|
| **Phase 1 ì¦‰ì‹œ ì‹œì‘** | ğŸŸ¢ YES | íˆ¬ì ëŒ€ë¹„ íš¨ê³¼ê°€ í¼ |
| **ê³µê°œ íƒ€ì… ë¶„ë¦¬** | ğŸŸ¢ YES | ë¯¸ë˜ í™•ì¥ì„± ë³´ì¥ |
| **PlantUML ë™ì‹œ ì§„í–‰** | ğŸ”´ NO | Phase 1 í›„ ì§„í–‰ ê¶Œì¥ |
| **Apache 2.0 ì „í™˜** | ğŸŸ¢ í›„ë³´ | ì´í›„ ë²•ì  ê²€í†  í•„ìš” |

---

## 6.8 ë‹¤ìŒ ë‹¨ê³„

### ì´ ì£¼ (2025-12-18)

- [ ] ì´ ë³´ê³ ì„œ ë¦¬ë·° ë° ìŠ¹ì¸
- [ ] Phase 1 ì¼ì • í™•ì •
- [ ] ê°œë°œì í• ë‹¹

### ë‹¤ìŒ ì£¼ (2025-12-25)

- [ ] public_types.py êµ¬í˜„ ì‹œì‘
- [ ] QUICKSTART.md ì‘ì„± ì‹œì‘
- [ ] ì˜ˆì œ ì½”ë“œ ì‘ì„± ì‹œì‘

### 1ê°œì›” í›„ (2026-01-18)

- [ ] Phase 1 ì™„ë£Œ ê²€ì¦
- [ ] ì‹ ê·œ ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘
- [ ] Phase 2 ê³„íš ì¡°ì •

---

## 6.9 ì°¸ê³  ìë£Œ

### ê¸°ì¡´ ë¬¸ì„œ

- [ARCHITECTURE.md](../architecture/ARCHITECTURE.md) - ì•„í‚¤í…ì²˜ ìƒì„¸
- [DEVELOPER_GUIDE.md](../developer/DEVELOPER_GUIDE.md) - ê°œë°œì ê°€ì´ë“œ
- [USER_GUIDE.md](../user/USER_GUIDE.md) - ì‚¬ìš©ì ê°€ì´ë“œ
- [TEST_COVERAGE_REPORT.md](./TEST_COVERAGE_REPORT.md) - í…ŒìŠ¤íŠ¸ ë¶„ì„

### ê´€ë ¨ ì´ìŠˆ

- GitHub Issues: [High-priority items](https://github.com/Soju06/python-kis/issues)
- Discussions: [Feature requests](https://github.com/Soju06/python-kis/discussions)

### ì™¸ë¶€ ì°¸ê³ 

- [Python Type Hints](https://docs.python.org/3/library/typing.html)
- [Protocol (PEP 544)](https://www.python.org/dev/peps/pep-0544/)
- [Semantic Versioning](https://semver.org/lang/ko/)

---

**ë³´ê³ ì„œ ì‘ì„± ì™„ë£Œ**

*ì‘ì„±ì: Python-KIS ë¶„ì„íŒ€*  
*ì‘ì„±ì¼: 2025ë…„ 12ì›” 18ì¼*  
*ë²„ì „: V3.0*  
*ìµœì¢… ê²€í† : 2026ë…„ 1ì›” 15ì¼ ì˜ˆì •*

---

**ê°ì‚¬í•©ë‹ˆë‹¤. ë³¸ ë³´ê³ ì„œê°€ Python-KIS í”„ë¡œì íŠ¸ì˜ ì§€ì†ì ì¸ ê°œì„ ì— ë„ì›€ì´ ë˜ê¸°ë¥¼ ë°”ëë‹ˆë‹¤.**
