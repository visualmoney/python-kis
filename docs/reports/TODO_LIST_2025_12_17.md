# 다음 할일 목록 (To-Do List)

**작성일**: 2025-12-17  
**작성자**: AI Assistant (GitHub Copilot)  
**상태**: 활성 (In Progress)  
**우선순위 레벨**: P0(긴급) → P1(높음) → P2(중간) → P3(낮음)

---

## 🚀 즉시 실행 (이번 주) - P0

### 1. 경고 메시지 해결 ✅ 준비 완료

**작업 내용**:
- [ ] 1.1 `KisPendingOrderBase` Deprecation 경고 해결
  - 파일: `tests/unit/api/account/test_pending_order.py`
  - 라인: 262, 287
  - 해결: `KisPendingOrderBase.from_*()` → `KisOrder.from_*()`
  - 예상 시간: 30분

- [ ] 1.2 Event Ticket 명시적 해제
  - 파일: `tests/unit/client/test_websocket.py`
  - 라인: 여러 곳
  - 해결: 테스트 종료 시 `ticket.unsubscribe()` 호출
  - 예상 시간: 1시간

**우선순위**: 🔴 긴급 (경고 제거)  
**예상 소요 시간**: 1.5시간  
**담당자**: AI Assistant (자동 처리 가능)

---

### 2. 스킵된 테스트 재분류 ✅ 준비 완료

**작업 내용**:
- [ ] 2.1 스킵된 5개 테스트 검토
  - 대상: `test_account.py`, `test_websocket.py`
  - 사유: 실제 API/연결 필요 (단위 테스트 아님)
  - 예상 시간: 30분

- [ ] 2.2 통합 테스트 폴더 구조 생성
  ```
  tests/integration/
  ├── conftest.py                 # 공통 fixture
  ├── api/
  │   └── test_account_flow.py   # 계좌 관련 통합 테스트
  └── websocket/
      └── test_connection_flow.py # WebSocket 연결 테스트
  ```
  - 예상 시간: 1시간

- [ ] 2.3 스킵 테스트 이동
  - `test_account.py`의 deposit/withdraw/transfer → 통합 테스트
  - `test_websocket.py`의 connect/disconnect → 통합 테스트
  - 예상 시간: 30분

**우선순위**: 🔴 긴급 (테스트 정리)  
**예상 소요 시간**: 2시간  
**담당자**: AI Assistant (자동 처리 가능)

---

## 📈 단기 개선 (1-2주) - P1

### 3. utils 모듈 커버리지 개선: 34% → 70%

**작업 내용**:
- [ ] 3.1 utils 모듈 분석
  - 파일: `pykis/utils/`
  - 하위 모듈: `__init__.py`, `diagnosis.py`, `math.py`, `rate_limit.py` 등
  - 현재 커버리지: 34%
  - 미커버 영역: ~66%
  - 예상 시간: 2시간 (분석)

- [ ] 3.2 테스트 케이스 작성
  - 모듈별로 10-15개 테스트 작성
  - Mock 및 edge case 포함
  - 총 테스트 수: 50-70개
  - 예상 시간: 4-5시간 (작성)

- [ ] 3.3 테스트 검증
  - 모든 테스트 실행 및 통과 확인
  - 커버리지 재측정 (목표: 70%+)
  - 예상 시간: 1시간

**우선순위**: 🟡 높음 (가장 낮은 커버리지)  
**예상 소요 시간**: 7-8시간 (분석 + 작성 + 검증)  
**담당자**: AI Assistant  
**선행 조건**: 없음  
**후행 작업**: 4번 (client 모듈)

---

### 4. client 모듈 커버리지 개선: 41% → 70%

**작업 내용**:
- [ ] 4.1 client 모듈 분석
  - 파일: `pykis/client/`
  - 하위 모듈: `__init__.py`, `account.py`, `cache.py`, `exceptions.py`, `object.py` 등
  - 현재 커버리지: 41%
  - 미커버 영역: ~59%
  - 예상 시간: 2시간 (분석)

- [ ] 4.2 테스트 케이스 작성
  - 모듈별로 10-15개 테스트 작성
  - 복잡한 로직 중심
  - 총 테스트 수: 40-60개
  - 예상 시간: 4-5시간 (작성)

- [ ] 4.3 테스트 검증
  - 모든 테스트 실행 및 통과 확인
  - 커버리지 재측정 (목표: 70%+)
  - 예상 시간: 1시간

**우선순위**: 🟡 높음 (두 번째 낮은 커버리지)  
**예상 소요 시간**: 7-8시간 (분석 + 작성 + 검증)  
**담당자**: AI Assistant  
**선행 조건**: 3번 (utils 모듈) 완료  
**후행 작업**: 5번 (responses 모듈)

---

### 5. 테스트 작성 가이드 배포

**작업 내용**:
- [ ] 5.1 가이드 검토
  - 파일: `docs/guidelines/GUIDELINES_001_TEST_WRITING.md`
  - 내용 검토 및 개선
  - 예상 시간: 1시간

- [ ] 5.2 추가 가이드 작성
  - 마켓 코드 선택 기준 문서
  - Response Mock 표준 패턴
  - KisObject.transform_() 사용 가이드
  - 예상 시간: 2시간

- [ ] 5.3 팀 공포
  - 가이드 문서 최종 확인
  - 관련자 공유
  - 예상 시간: 30분

**우선순위**: 🟡 높음 (품질 보증)  
**예상 소요 시간**: 3.5시간  
**담당자**: AI Assistant  
**선행 조건**: 1번, 2번 (경고 제거, 재분류) 완료

---

## 🔧 중기 개선 (1개월) - P2

### 6. responses 모듈 커버리지 개선: 52% → 70%

**작업 내용**:
- [ ] 6.1 responses 모듈 분석
  - 파일: `pykis/responses/`
  - 하위 모듈: `__init__.py`, `dynamic.py`, `types.py`, `websocket.py` 등
  - 현재 커버리지: 52%
  - 미커버 영역: ~48%
  - 예상 시간: 1.5시간 (분석)

- [ ] 6.2 테스트 케이스 작성
  - 동적 타입 변환 로직 테스트
  - WebSocket 응답 처리 테스트
  - 총 테스트 수: 30-40개
  - 예상 시간: 3-4시간 (작성)

- [ ] 6.3 테스트 검증
  - 모든 테스트 실행 및 통과 확인
  - 커버리지 재측정 (목표: 70%+)
  - 예상 시간: 1시간

**우선순위**: 🟢 중간 (높으면서도 중요)  
**예상 소요 시간**: 5.5-6시간 (분석 + 작성 + 검증)  
**담당자**: AI Assistant  
**선행 조건**: 4번 (client 모듈) 완료  
**후행 작업**: 7번 (event 모듈)

---

### 7. event 모듈 커버리지 개선: 54% → 70%

**작업 내용**:
- [ ] 7.1 event 모듈 분석
  - 파일: `pykis/event/`
  - 하위 모듈: `__init__.py`, `handler.py`, `filters/` 등
  - 현재 커버리지: 54%
  - 미커버 영역: ~46%
  - 예상 시간: 1.5시간 (분석)

- [ ] 7.2 테스트 케이스 작성
  - 이벤트 핸들링 로직 테스트
  - 필터링 로직 테스트
  - 구독/해제 테스트
  - 총 테스트 수: 25-35개
  - 예상 시간: 3-4시간 (작성)

- [ ] 7.3 테스트 검증
  - 모든 테스트 실행 및 통과 확인
  - 커버리지 재측정 (목표: 70%+)
  - 예상 시간: 1시간

**우선순위**: 🟢 중간  
**예상 소요 시간**: 5.5-6시간 (분석 + 작성 + 검증)  
**담당자**: AI Assistant  
**선행 조건**: 6번 (responses 모듈) 완료  
**후행 작업**: 8번 (최종 검증)

---

### 8. 전체 커버리지 80% 이상 달성

**작업 내용**:
- [ ] 8.1 커버리지 재측정
  - 전체 프로젝트 커버리지 측정
  - 현재 상태: 94% (단위 테스트만) vs 60% (전체)
  - 목표: 80% 이상
  - 예상 시간: 30분

- [ ] 8.2 부진 영역 최종 개선
  - 80% 미만인 모듈 식별
  - 추가 테스트 작성
  - 예상 시간: 2-3시간 (필요시)

- [ ] 8.3 최종 보고서 생성
  - 커버리지 보고서 업데이트
  - ARCHITECTURE_REPORT 수정
  - 예상 시간: 1시간

**우선순위**: 🟢 중간 (최종 목표)  
**예상 소요 시간**: 3.5-4.5시간 (측정 + 개선 + 보고)  
**담당자**: AI Assistant  
**선행 조건**: 3, 4, 6, 7번 (모듈 개선) 완료

---

## 📝 장기 개선 (6주+) - P3

### 9. QUICKSTART.md 작성 (사용성 개선)

**작업 내용**:
- [ ] 9.1 5분 내 시작 가능 가이드 작성
  - 설치 방법 (pip install)
  - 인증 설정 (3줄 코드)
  - 첫 API 호출 (5줄 코드)
  - 예상 시간: 2시간

**우선순위**: 🔴 긴급 (사용성)  
**예상 소요 시간**: 2시간  
**담당자**: AI Assistant  
**선행 조건**: 없음

---

### 10. examples/ 폴더 생성 및 예제 코드 작성

**작업 내용**:
- [ ] 10.1 기본 예제 (5개): `examples/01_basic/`
  - hello_world.py
  - get_quote.py
  - get_balance.py
  - place_order.py
  - get_orderbook.py
  - 예상 시간: 3시간

- [ ] 10.2 중급 예제 (5개): `examples/02_intermediate/`
  - real_time_quote.py (WebSocket)
  - portfolio_analysis.py
  - order_management.py
  - multi_symbol_tracking.py
  - performance_analysis.py
  - 예상 시간: 4시간

- [ ] 10.3 고급 예제 (3개): `examples/03_advanced/`
  - algorithmic_trading.py
  - risk_management.py
  - custom_event_handlers.py
  - 예상 시간: 3시간

**우선순위**: 🟡 높음 (학습 리소스)  
**예상 소요 시간**: 10시간  
**담당자**: AI Assistant  
**선행 조건**: 9번 (QUICKSTART) 완료

---

### 11. __init__.py Export 정리 및 API 문서화

**작업 내용**:
- [ ] 11.1 공개 API 20개 선정
  - `PyKis` (핵심)
  - `KisAuth` (인증)
  - `Quote`, `Balance`, `Order` 등 (주요 타입)
  - 예상 시간: 1시간

- [ ] 11.2 public_types.py 생성
  - 사용자 공개 타입만 export
  - 내부 구현은 숨김
  - 예상 시간: 1시간

- [ ] 11.3 __init__.py 리팩토링
  - export 목록 20개로 축소
  - 역호환성 유지 (2 릴리스)
  - 예상 시간: 2시간

- [ ] 11.4 문서 업데이트
  - 공개 API 문서화
  - 마이그레이션 가이드
  - 예상 시간: 2시간

**우선순위**: 🟡 높음 (아키텍처 정리)  
**예상 소요 시간**: 6시간  
**담당자**: AI Assistant  
**선행 조건**: 8번 (전체 커버리지) 완료

---

### 12. CI/CD 파이프라인 구축 (자동화)

**작업 내용**:
- [ ] 12.1 GitHub Actions 설정
  - `.github/workflows/tests.yml`
  - 자동 테스트 실행
  - 예상 시간: 2시간

- [ ] 12.2 커버리지 리포트 자동화
  - 커버리지 배지 생성
  - 리포트 자동 업로드
  - 예상 시간: 1시간

- [ ] 12.3 Pre-commit hooks 설정
  - Black (코드 포매팅)
  - isort (import 정렬)
  - mypy (타입 체크)
  - 예상 시간: 1.5시간

**우선순위**: 🟢 중간 (자동화)  
**예상 소요 시간**: 4.5시간  
**담당자**: AI Assistant  
**선행 조건**: 11번 (API 정리) 완료

---

## 📊 요약 및 일정표

### 시간 투자 계획

```
이번 주 (P0):                2-3시간
  ├─ 경고 제거:              1.5시간
  └─ 재분류:                 2시간

1-2주 (P1):                 18-20시간
  ├─ utils 개선:             7-8시간
  ├─ client 개선:            7-8시간
  ├─ 가이드 배포:            3.5시간
  └─ buffer:                 1-2시간

1개월 (P2):                 20-24시간
  ├─ responses 개선:         5.5-6시간
  ├─ event 개선:             5.5-6시간
  ├─ 최종 검증:              3.5-4시간
  └─ buffer:                 5-7시간

6주+ (P3):                  42-50시간
  ├─ QUICKSTART:             2시간
  ├─ examples:               10시간
  ├─ API 정리:               6시간
  ├─ CI/CD:                  4.5시간
  └─ buffer:                 20시간

총 예상 시간:               82-97시간 (~2-3주 풀타임)
```

### 달성 체크포인트

```
🎯 Week 1 (이번 주):
  ✅ 경고 제거
  ✅ 테스트 재분류
  ✅ 스킵 테스트 0개

🎯 Week 2-3:
  ✅ utils 70%+
  ✅ client 70%+
  ✅ 가이드 배포

🎯 Month 1:
  ✅ responses 70%+
  ✅ event 70%+
  ✅ 전체 커버리지 80%+

🎯 Month 2+:
  ✅ QUICKSTART 작성
  ✅ 15+ 예제 코드
  ✅ API 정리 완료
  ✅ CI/CD 구축
```

---

## 🎯 최종 목표

| 항목 | 현재 | 목표 (Month 1) | 목표 (Month 3) |
|------|------|--------------|----------------|
| **전체 커버리지** | 60.27% | 80%+ | 90%+ |
| **공개 API 수** | 154개 | 20개 | 15개 |
| **문서 수** | 6개 | 10개 | 15개 |
| **예제 코드** | 0개 | 10개 | 15개 |
| **테스트 수** | 840개 | 900+개 | 1000+개 |
| **경고** | 7개 | 0개 | 0개 |

---

## 📞 연락처 및 참고

**작성자**: AI Assistant (GitHub Copilot)  
**최종 수정**: 2025-12-17  
**다음 리뷰**: 2025-12-24  

**관련 문서**:
- [DEV_LOG_2025_12_17.md](c:\Python\github.com\python-kis\docs\dev_logs\DEV_LOG_2025_12_17.md)
- [GUIDELINES_001_TEST_WRITING.md](c:\Python\github.com\python-kis\docs\guidelines\GUIDELINES_001_TEST_WRITING.md)
- [TEST_REPORT_2025_12_17.md](c:\Python\github.com\python-kis\docs\reports\test_reports\TEST_REPORT_2025_12_17.md)

---

**상태**: 🟡 활성 진행 중  
**마지막 업데이트**: 2025-12-17 22:50 UTC

